import{r as m,R as ye,a as Ke,b as Qt,j as s,c as wt,d as L,g as xt,e as $r,f as ue,D as er,S as bt,h as _t,C as Sr,u as Or,i as kr,Q as ie}from"./index-7d2d302a.js";import{u as Nr}from"./index.esm-2ca86368.js";const Mr=e=>{m.useEffect(()=>{!document||!e||document.title===e||(document.title=e)},[e])};function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(this,arguments)}function tr(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ft(e,t)}function rr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ft(e,t)}function Dr(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Rr(e,t){e.classList?e.classList.add(t):Dr(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Bt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ar(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Bt(e.className,t):e.setAttribute("class",Bt(e.className&&e.className.baseVal||"",t))}const Pt={disabled:!1},nr=ye.createContext(null);var ar=function(t){return t.scrollTop},We="unmounted",xe="exited",be="entering",Me="entered",ht="exiting",de=function(e){rr(t,e);function t(n,a){var o;o=e.call(this,n,a)||this;var c=a,i=c&&!c.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?i?(l=xe,o.appearStatus=be):l=Me:n.unmountOnExit||n.mountOnEnter?l=We:l=xe,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(a,o){var c=a.in;return c&&o.status===We?{status:xe}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var o=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==be&&c!==Me&&(o=be):(c===be||c===Me)&&(o=ht)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,o,c,i;return o=c=i=a,a!=null&&typeof a!="number"&&(o=a.exit,c=a.enter,i=a.appear!==void 0?a.appear:c),{exit:o,enter:c,appear:i}},r.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===be){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this);c&&ar(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xe&&this.setState({status:We})},r.performEnter=function(a){var o=this,c=this.props.enter,i=this.context?this.context.isMounting:a,l=this.props.nodeRef?[i]:[Ke.findDOMNode(this),i],u=l[0],d=l[1],h=this.getTimeouts(),p=i?h.appear:h.enter;if(!a&&!c||Pt.disabled){this.safeSetState({status:Me},function(){o.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:be},function(){o.props.onEntering(u,d),o.onTransitionEnd(p,function(){o.safeSetState({status:Me},function(){o.props.onEntered(u,d)})})})},r.performExit=function(){var a=this,o=this.props.exit,c=this.getTimeouts(),i=this.props.nodeRef?void 0:Ke.findDOMNode(this);if(!o||Pt.disabled){this.safeSetState({status:xe},function(){a.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:ht},function(){a.props.onExiting(i),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:xe},function(){a.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},r.setNextCallback=function(a){var o=this,c=!0;return this.nextCallback=function(i){c&&(c=!1,o.nextCallback=null,a(i))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(a,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this),i=a==null&&!this.props.addEndListener;if(!c||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===We)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var i=tr(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ye.createElement(nr.Provider,{value:null},typeof c=="function"?c(a,i):ye.cloneElement(ye.Children.only(c),i))},t}(ye.Component);de.contextType=nr;de.propTypes={};function ke(){}de.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ke,onEntering:ke,onEntered:ke,onExit:ke,onExiting:ke,onExited:ke};de.UNMOUNTED=We;de.EXITED=xe;de.ENTERING=be;de.ENTERED=Me;de.EXITING=ht;const Tr=de;var Br=function(t,r){return t&&r&&r.split(" ").forEach(function(n){return Rr(t,n)})},ut=function(t,r){return t&&r&&r.split(" ").forEach(function(n){return Ar(t,n)})},yt=function(e){rr(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(i,l){var u=n.resolveArguments(i,l),d=u[0],h=u[1];n.removeClasses(d,"exit"),n.addClass(d,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(i,l)},n.onEntering=function(i,l){var u=n.resolveArguments(i,l),d=u[0],h=u[1],p=h?"appear":"enter";n.addClass(d,p,"active"),n.props.onEntering&&n.props.onEntering(i,l)},n.onEntered=function(i,l){var u=n.resolveArguments(i,l),d=u[0],h=u[1],p=h?"appear":"enter";n.removeClasses(d,p),n.addClass(d,p,"done"),n.props.onEntered&&n.props.onEntered(i,l)},n.onExit=function(i){var l=n.resolveArguments(i),u=l[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(i)},n.onExiting=function(i){var l=n.resolveArguments(i),u=l[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(i)},n.onExited=function(i){var l=n.resolveArguments(i),u=l[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(i)},n.resolveArguments=function(i,l){return n.props.nodeRef?[n.props.nodeRef.current,i]:[i,l]},n.getClassNames=function(i){var l=n.props.classNames,u=typeof l=="string",d=u&&l?l+"-":"",h=u?""+d+i:l[i],p=u?h+"-active":l[i+"Active"],g=u?h+"-done":l[i+"Done"];return{baseClassName:h,activeClassName:p,doneClassName:g}},n}var r=t.prototype;return r.addClass=function(a,o,c){var i=this.getClassNames(o)[c+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&c==="done"&&u&&(i+=" "+u),c==="active"&&a&&ar(a),i&&(this.appliedClasses[o][c]=i,Br(a,i))},r.removeClasses=function(a,o){var c=this.appliedClasses[o],i=c.base,l=c.active,u=c.done;this.appliedClasses[o]={},i&&ut(a,i),l&&ut(a,l),u&&ut(a,u)},r.render=function(){var a=this.props;a.classNames;var o=tr(a,["classNames"]);return ye.createElement(Tr,pt({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(ye.Component);yt.defaultProps={classNames:""};yt.propTypes={};const st=yt;var It=function(t){return t.reduce(function(r,n){var a=n[0],o=n[1];return r[a]=o,r},{})},jt=typeof window<"u"&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect,q="top",G="bottom",J="right",W="left",Lt="auto",Ge=[q,G,J,W],De="start",Ue="end",Pr="clippingParents",or="viewport",Ve="popper",Ir="reference",zt=Ge.reduce(function(e,t){return e.concat([t+"-"+De,t+"-"+Ue])},[]),ir=[].concat(Ge,[Lt]).reduce(function(e,t){return e.concat([t,t+"-"+De,t+"-"+Ue])},[]),jr="beforeRead",zr="read",Hr="afterRead",Vr="beforeMain",qr="main",Wr="afterMain",Fr="beforeWrite",Yr="write",Xr="afterWrite",Ur=[jr,zr,Hr,Vr,qr,Wr,Fr,Yr,Xr];function re(e){return e?(e.nodeName||"").toLowerCase():null}function K(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ee(e){var t=K(e).Element;return e instanceof t||e instanceof Element}function Z(e){var t=K(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Et(e){if(typeof ShadowRoot>"u")return!1;var t=K(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Zr(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},o=t.elements[r];!Z(o)||!re(o)||(Object.assign(o.style,n),Object.keys(a).forEach(function(c){var i=a[c];i===!1?o.removeAttribute(c):o.setAttribute(c,i===!0?"":i)}))})}function Gr(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],o=t.attributes[n]||{},c=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),i=c.reduce(function(l,u){return l[u]="",l},{});!Z(a)||!re(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(l){a.removeAttribute(l)}))})}}const Jr={name:"applyStyles",enabled:!0,phase:"write",fn:Zr,effect:Gr,requires:["computeStyles"]};function te(e){return e.split("-")[0]}var Le=Math.max,ot=Math.min,Re=Math.round;function vt(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function sr(){return!/^((?!chrome|android).)*safari/i.test(vt())}function Ae(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,o=1;t&&Z(e)&&(a=e.offsetWidth>0&&Re(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Re(n.height)/e.offsetHeight||1);var c=Ee(e)?K(e):window,i=c.visualViewport,l=!sr()&&r,u=(n.left+(l&&i?i.offsetLeft:0))/a,d=(n.top+(l&&i?i.offsetTop:0))/o,h=n.width/a,p=n.height/o;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u,x:u,y:d}}function Ct(e){var t=Ae(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function lr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Et(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ce(e){return K(e).getComputedStyle(e)}function Kr(e){return["table","td","th"].indexOf(re(e))>=0}function fe(e){return((Ee(e)?e.ownerDocument:e.document)||window.document).documentElement}function lt(e){return re(e)==="html"?e:e.assignedSlot||e.parentNode||(Et(e)?e.host:null)||fe(e)}function Ht(e){return!Z(e)||ce(e).position==="fixed"?null:e.offsetParent}function Qr(e){var t=/firefox/i.test(vt()),r=/Trident/i.test(vt());if(r&&Z(e)){var n=ce(e);if(n.position==="fixed")return null}var a=lt(e);for(Et(a)&&(a=a.host);Z(a)&&["html","body"].indexOf(re(a))<0;){var o=ce(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Je(e){for(var t=K(e),r=Ht(e);r&&Kr(r)&&ce(r).position==="static";)r=Ht(r);return r&&(re(r)==="html"||re(r)==="body"&&ce(r).position==="static")?t:r||Qr(e)||t}function $t(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ye(e,t,r){return Le(e,ot(t,r))}function en(e,t,r){var n=Ye(e,t,r);return n>r?r:n}function cr(){return{top:0,right:0,bottom:0,left:0}}function ur(e){return Object.assign({},cr(),e)}function dr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var tn=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,ur(typeof t!="number"?t:dr(t,Ge))};function rn(e){var t,r=e.state,n=e.name,a=e.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,i=te(r.placement),l=$t(i),u=[W,J].indexOf(i)>=0,d=u?"height":"width";if(!(!o||!c)){var h=tn(a.padding,r),p=Ct(o),g=l==="y"?q:W,C=l==="y"?G:J,f=r.rects.reference[d]+r.rects.reference[l]-c[l]-r.rects.popper[d],v=c[l]-r.rects.reference[l],_=Je(o),S=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,M=f/2-v/2,$=h[g],k=S-p[d]-h[C],x=S/2-p[d]/2+M,E=Ye($,x,k),O=l;r.modifiersData[n]=(t={},t[O]=E,t.centerOffset=E-x,t)}}function nn(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||lr(t.elements.popper,a)&&(t.elements.arrow=a))}const an={name:"arrow",enabled:!0,phase:"main",fn:rn,effect:nn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Te(e){return e.split("-")[1]}var on={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sn(e){var t=e.x,r=e.y,n=window,a=n.devicePixelRatio||1;return{x:Re(t*a)/a||0,y:Re(r*a)/a||0}}function Vt(e){var t,r=e.popper,n=e.popperRect,a=e.placement,o=e.variation,c=e.offsets,i=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,h=e.isFixed,p=c.x,g=p===void 0?0:p,C=c.y,f=C===void 0?0:C,v=typeof d=="function"?d({x:g,y:f}):{x:g,y:f};g=v.x,f=v.y;var _=c.hasOwnProperty("x"),S=c.hasOwnProperty("y"),M=W,$=q,k=window;if(u){var x=Je(r),E="clientHeight",O="clientWidth";if(x===K(r)&&(x=fe(r),ce(x).position!=="static"&&i==="absolute"&&(E="scrollHeight",O="scrollWidth")),x=x,a===q||(a===W||a===J)&&o===Ue){$=G;var D=h&&x===k&&k.visualViewport?k.visualViewport.height:x[E];f-=D-n.height,f*=l?1:-1}if(a===W||(a===q||a===G)&&o===Ue){M=J;var R=h&&x===k&&k.visualViewport?k.visualViewport.width:x[O];g-=R-n.width,g*=l?1:-1}}var b=Object.assign({position:i},u&&on),A=d===!0?sn({x:g,y:f}):{x:g,y:f};if(g=A.x,f=A.y,l){var P;return Object.assign({},b,(P={},P[$]=S?"0":"",P[M]=_?"0":"",P.transform=(k.devicePixelRatio||1)<=1?"translate("+g+"px, "+f+"px)":"translate3d("+g+"px, "+f+"px, 0)",P))}return Object.assign({},b,(t={},t[$]=S?f+"px":"",t[M]=_?g+"px":"",t.transform="",t))}function ln(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,o=r.adaptive,c=o===void 0?!0:o,i=r.roundOffsets,l=i===void 0?!0:i,u={placement:te(t.placement),variation:Te(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Vt(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Vt(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const cn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ln,data:{}};var Qe={passive:!0};function un(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,o=a===void 0?!0:a,c=n.resize,i=c===void 0?!0:c,l=K(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",r.update,Qe)}),i&&l.addEventListener("resize",r.update,Qe),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Qe)}),i&&l.removeEventListener("resize",r.update,Qe)}}const dn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:un,data:{}};var pn={left:"right",right:"left",bottom:"top",top:"bottom"};function nt(e){return e.replace(/left|right|bottom|top/g,function(t){return pn[t]})}var fn={start:"end",end:"start"};function qt(e){return e.replace(/start|end/g,function(t){return fn[t]})}function St(e){var t=K(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ot(e){return Ae(fe(e)).left+St(e).scrollLeft}function hn(e,t){var r=K(e),n=fe(e),a=r.visualViewport,o=n.clientWidth,c=n.clientHeight,i=0,l=0;if(a){o=a.width,c=a.height;var u=sr();(u||!u&&t==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:o,height:c,x:i+Ot(e),y:l}}function vn(e){var t,r=fe(e),n=St(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Le(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Le(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-n.scrollLeft+Ot(e),l=-n.scrollTop;return ce(a||r).direction==="rtl"&&(i+=Le(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:c,x:i,y:l}}function kt(e){var t=ce(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function pr(e){return["html","body","#document"].indexOf(re(e))>=0?e.ownerDocument.body:Z(e)&&kt(e)?e:pr(lt(e))}function Xe(e,t){var r;t===void 0&&(t=[]);var n=pr(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),o=K(n),c=a?[o].concat(o.visualViewport||[],kt(n)?n:[]):n,i=t.concat(c);return a?i:i.concat(Xe(lt(c)))}function mt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function mn(e,t){var r=Ae(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Wt(e,t,r){return t===or?mt(hn(e,r)):Ee(t)?mn(t,r):mt(vn(fe(e)))}function gn(e){var t=Xe(lt(e)),r=["absolute","fixed"].indexOf(ce(e).position)>=0,n=r&&Z(e)?Je(e):e;return Ee(n)?t.filter(function(a){return Ee(a)&&lr(a,n)&&re(a)!=="body"}):[]}function wn(e,t,r,n){var a=t==="clippingParents"?gn(e):[].concat(t),o=[].concat(a,[r]),c=o[0],i=o.reduce(function(l,u){var d=Wt(e,u,n);return l.top=Le(d.top,l.top),l.right=ot(d.right,l.right),l.bottom=ot(d.bottom,l.bottom),l.left=Le(d.left,l.left),l},Wt(e,c,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function fr(e){var t=e.reference,r=e.element,n=e.placement,a=n?te(n):null,o=n?Te(n):null,c=t.x+t.width/2-r.width/2,i=t.y+t.height/2-r.height/2,l;switch(a){case q:l={x:c,y:t.y-r.height};break;case G:l={x:c,y:t.y+t.height};break;case J:l={x:t.x+t.width,y:i};break;case W:l={x:t.x-r.width,y:i};break;default:l={x:t.x,y:t.y}}var u=a?$t(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case De:l[u]=l[u]-(t[d]/2-r[d]/2);break;case Ue:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function Ze(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,o=r.strategy,c=o===void 0?e.strategy:o,i=r.boundary,l=i===void 0?Pr:i,u=r.rootBoundary,d=u===void 0?or:u,h=r.elementContext,p=h===void 0?Ve:h,g=r.altBoundary,C=g===void 0?!1:g,f=r.padding,v=f===void 0?0:f,_=ur(typeof v!="number"?v:dr(v,Ge)),S=p===Ve?Ir:Ve,M=e.rects.popper,$=e.elements[C?S:p],k=wn(Ee($)?$:$.contextElement||fe(e.elements.popper),l,d,c),x=Ae(e.elements.reference),E=fr({reference:x,element:M,strategy:"absolute",placement:a}),O=mt(Object.assign({},M,E)),D=p===Ve?O:x,R={top:k.top-D.top+_.top,bottom:D.bottom-k.bottom+_.bottom,left:k.left-D.left+_.left,right:D.right-k.right+_.right},b=e.modifiersData.offset;if(p===Ve&&b){var A=b[a];Object.keys(R).forEach(function(P){var j=[J,G].indexOf(P)>=0?1:-1,F=[q,G].indexOf(P)>=0?"y":"x";R[P]+=A[F]*j})}return R}function xn(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,o=r.rootBoundary,c=r.padding,i=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?ir:l,d=Te(n),h=d?i?zt:zt.filter(function(C){return Te(C)===d}):Ge,p=h.filter(function(C){return u.indexOf(C)>=0});p.length===0&&(p=h);var g=p.reduce(function(C,f){return C[f]=Ze(e,{placement:f,boundary:a,rootBoundary:o,padding:c})[te(f)],C},{});return Object.keys(g).sort(function(C,f){return g[C]-g[f]})}function bn(e){if(te(e)===Lt)return[];var t=nt(e);return[qt(e),t,qt(t)]}function _n(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,o=a===void 0?!0:a,c=r.altAxis,i=c===void 0?!0:c,l=r.fallbackPlacements,u=r.padding,d=r.boundary,h=r.rootBoundary,p=r.altBoundary,g=r.flipVariations,C=g===void 0?!0:g,f=r.allowedAutoPlacements,v=t.options.placement,_=te(v),S=_===v,M=l||(S||!C?[nt(v)]:bn(v)),$=[v].concat(M).reduce(function(pe,Q){return pe.concat(te(Q)===Lt?xn(t,{placement:Q,boundary:d,rootBoundary:h,padding:u,flipVariations:C,allowedAutoPlacements:f}):Q)},[]),k=t.rects.reference,x=t.rects.popper,E=new Map,O=!0,D=$[0],R=0;R<$.length;R++){var b=$[R],A=te(b),P=Te(b)===De,j=[q,G].indexOf(A)>=0,F=j?"width":"height",T=Ze(t,{placement:b,boundary:d,rootBoundary:h,altBoundary:p,padding:u}),B=j?P?J:W:P?G:q;k[F]>x[F]&&(B=nt(B));var Ce=nt(B),ne=[];if(o&&ne.push(T[A]<=0),i&&ne.push(T[B]<=0,T[Ce]<=0),ne.every(function(pe){return pe})){D=b,O=!1;break}E.set(b,ne)}if(O)for(var $e=C?3:1,Be=function(Q){var me=$.find(function(Se){var ae=E.get(Se);if(ae)return ae.slice(0,Q).every(function(Pe){return Pe})});if(me)return D=me,"break"},he=$e;he>0;he--){var ve=Be(he);if(ve==="break")break}t.placement!==D&&(t.modifiersData[n]._skip=!0,t.placement=D,t.reset=!0)}}const yn={name:"flip",enabled:!0,phase:"main",fn:_n,requiresIfExists:["offset"],data:{_skip:!1}};function Ft(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yt(e){return[q,J,G,W].some(function(t){return e[t]>=0})}function Ln(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,c=Ze(t,{elementContext:"reference"}),i=Ze(t,{altBoundary:!0}),l=Ft(c,n),u=Ft(i,a,o),d=Yt(l),h=Yt(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const En={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ln};function Cn(e,t,r){var n=te(e),a=[W,q].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=o[0],i=o[1];return c=c||0,i=(i||0)*a,[W,J].indexOf(n)>=0?{x:i,y:c}:{x:c,y:i}}function $n(e){var t=e.state,r=e.options,n=e.name,a=r.offset,o=a===void 0?[0,0]:a,c=ir.reduce(function(d,h){return d[h]=Cn(h,t.rects,o),d},{}),i=c[t.placement],l=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=c}const Sn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$n};function On(e){var t=e.state,r=e.name;t.modifiersData[r]=fr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const kn={name:"popperOffsets",enabled:!0,phase:"read",fn:On,data:{}};function Nn(e){return e==="x"?"y":"x"}function Mn(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,o=a===void 0?!0:a,c=r.altAxis,i=c===void 0?!1:c,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,h=r.padding,p=r.tether,g=p===void 0?!0:p,C=r.tetherOffset,f=C===void 0?0:C,v=Ze(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),_=te(t.placement),S=Te(t.placement),M=!S,$=$t(_),k=Nn($),x=t.modifiersData.popperOffsets,E=t.rects.reference,O=t.rects.popper,D=typeof f=="function"?f(Object.assign({},t.rects,{placement:t.placement})):f,R=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),b=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(o){var P,j=$==="y"?q:W,F=$==="y"?G:J,T=$==="y"?"height":"width",B=x[$],Ce=B+v[j],ne=B-v[F],$e=g?-O[T]/2:0,Be=S===De?E[T]:O[T],he=S===De?-O[T]:-E[T],ve=t.elements.arrow,pe=g&&ve?Ct(ve):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:cr(),me=Q[j],Se=Q[F],ae=Ye(0,E[T],pe[T]),Pe=M?E[T]/2-$e-ae-me-R.mainAxis:Be-ae-me-R.mainAxis,Ie=M?-E[T]/2+$e+ae+Se+R.mainAxis:he+ae+Se+R.mainAxis,w=t.elements.arrow&&Je(t.elements.arrow),y=w?$==="y"?w.clientTop||0:w.clientLeft||0:0,N=(P=b==null?void 0:b[$])!=null?P:0,I=B+Pe-N-y,X=B+Ie-N,U=Ye(g?ot(Ce,I):Ce,B,g?Le(ne,X):ne);x[$]=U,A[$]=U-B}if(i){var z,je=$==="x"?q:W,ze=$==="x"?G:J,Y=x[k],ee=k==="y"?"height":"width",ge=Y+v[je],oe=Y-v[ze],Oe=[q,W].indexOf(_)!==-1,He=(z=b==null?void 0:b[k])!=null?z:0,Rt=Oe?ge:Y-E[ee]-O[ee]-He+R.altAxis,At=Oe?Y+E[ee]+O[ee]-He-R.altAxis:oe,Tt=g&&Oe?en(Rt,Y,At):Ye(g?Rt:ge,Y,g?At:oe);x[k]=Tt,A[k]=Tt-Y}t.modifiersData[n]=A}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:Mn,requiresIfExists:["offset"]};function Rn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function An(e){return e===K(e)||!Z(e)?St(e):Rn(e)}function Tn(e){var t=e.getBoundingClientRect(),r=Re(t.width)/e.offsetWidth||1,n=Re(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Bn(e,t,r){r===void 0&&(r=!1);var n=Z(t),a=Z(t)&&Tn(t),o=fe(t),c=Ae(e,a,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((re(t)!=="body"||kt(o))&&(i=An(t)),Z(t)?(l=Ae(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Ot(o))),{x:c.left+i.scrollLeft-l.x,y:c.top+i.scrollTop-l.y,width:c.width,height:c.height}}function Pn(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function a(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(i){if(!r.has(i)){var l=t.get(i);l&&a(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||a(o)}),n}function In(e){var t=Pn(e);return Ur.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function jn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function zn(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Xt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Hn(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,o=a===void 0?Xt:a;return function(i,l,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xt,o),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},h=[],p=!1,g={state:d,setOptions:function(_){var S=typeof _=="function"?_(d.options):_;f(),d.options=Object.assign({},o,d.options,S),d.scrollParents={reference:Ee(i)?Xe(i):i.contextElement?Xe(i.contextElement):[],popper:Xe(l)};var M=In(zn([].concat(n,d.options.modifiers)));return d.orderedModifiers=M.filter(function($){return $.enabled}),C(),g.update()},forceUpdate:function(){if(!p){var _=d.elements,S=_.reference,M=_.popper;if(Ut(S,M)){d.rects={reference:Bn(S,Je(M),d.options.strategy==="fixed"),popper:Ct(M)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var $=0;$<d.orderedModifiers.length;$++){if(d.reset===!0){d.reset=!1,$=-1;continue}var k=d.orderedModifiers[$],x=k.fn,E=k.options,O=E===void 0?{}:E,D=k.name;typeof x=="function"&&(d=x({state:d,options:O,name:D,instance:g})||d)}}}},update:jn(function(){return new Promise(function(v){g.forceUpdate(),v(d)})}),destroy:function(){f(),p=!0}};if(!Ut(i,l))return g;g.setOptions(u).then(function(v){!p&&u.onFirstUpdate&&u.onFirstUpdate(v)});function C(){d.orderedModifiers.forEach(function(v){var _=v.name,S=v.options,M=S===void 0?{}:S,$=v.effect;if(typeof $=="function"){var k=$({state:d,name:_,instance:g,options:M}),x=function(){};h.push(k||x)}})}function f(){h.forEach(function(v){return v()}),h=[]}return g}}var Vn=[dn,kn,cn,Jr,Sn,yn,Dn,an,En],qn=Hn({defaultModifiers:Vn}),Wn=typeof Element<"u",Fn=typeof Map=="function",Yn=typeof Set=="function",Xn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function at(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!at(e[n],t[n]))return!1;return!0}var o;if(Fn&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!at(n.value[1],t.get(n.value[0])))return!1;return!0}if(Yn&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Xn&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(Wn&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!at(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var Un=function(t,r){try{return at(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Zn=[],Nt=function(t,r,n){n===void 0&&(n={});var a=m.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Zn},c=m.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=c[0],l=c[1],u=m.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(g){var C=g.state,f=Object.keys(C.elements);Qt.flushSync(function(){l({styles:It(f.map(function(v){return[v,C.styles[v]||{}]})),attributes:It(f.map(function(v){return[v,C.attributes[v]]}))})})},requires:["computeStyles"]}},[]),d=m.useMemo(function(){var p={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Un(a.current,p)?a.current||p:(a.current=p,p)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),h=m.useRef();return jt(function(){h.current&&h.current.setOptions(d)},[d]),jt(function(){if(!(t==null||r==null)){var p=n.createPopper||qn,g=p(t,r,d);return h.current=g,function(){g.destroy(),h.current=null}}},[t,r,n.createPopper]),{state:h.current?h.current.state:null,styles:i.styles,attributes:i.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}};const ct=({children:e})=>Qt.createPortal(e,document.body),Gn="_enter_1hh4j_1",Jn="_menu_1hh4j_1",Kn="_fadeIn_1hh4j_1",Qn="_exit_1hh4j_5",ea="_container_1hh4j_9",ta="_item_1hh4j_23",Fe={enter:Gn,menu:Jn,fadeIn:Kn,exit:Qn,container:ea,item:ta},hr=m.createContext(null),le=({placement:e="bottom-start",className:t,selector:r,children:n,...a})=>{let[o,c]=m.useState(null),[i,l]=m.useState(null);const{attributes:u,styles:d,state:h}=Nt(o,i,{placement:e,modifiers:[{name:"offset",options:{offset:[0,10]}}]}),[p,g]=m.useState(!1),C=()=>{g(!0)},f=()=>{g(!1)};m.useEffect(()=>{if(r.length===0)return;o&&o.removeEventListener("click",C);const _=document.querySelector(r);if(_)return _.addEventListener("click",C),c(_),()=>{o&&o.removeEventListener("click",C)}},[r]);const v=_=>{_&&wt({ref:_,onClose:f,doNotClose:S=>o?o.contains(S):!1})};return s(ct,{children:s(st,{in:p,timeout:200,unmountOnExit:!0,classNames:{enterActive:Fe.enter,exitActive:Fe.exit},onEntered:v,children:s(hr.Provider,{value:{close:f},children:s("div",{ref:l,className:`${Fe.container} ${t||""}`.trim(),style:{...d.popper},...u.popper,...a,children:s("div",{className:Fe.menu,children:n})})})})})},ra=({children:e,onClick:t,className:r,...n})=>{const{close:a}=m.useContext(hr),o=c=>{a(),typeof t=="function"&&t(c)};return s("button",{className:`${Fe.item} ${r||""}`.trim(),onClick:o,...n,children:e})};le.Item=ra;const na="_header_1ajia_1",aa="_logo_1ajia_12",oa="_avatar_1ajia_26",ia="_toolbar_1ajia_44",sa="_zoom_in_1ajia_55",la="_zoom_out_1ajia_56",ca="_redo_1ajia_59",ua="_undo_1ajia_60",da="_background_btn_1ajia_76",pa="_clear_btn_1ajia_77",fa="_separator_1ajia_80",ha="_dropdown_1ajia_93",H={header:na,logo:aa,avatar:oa,toolbar:ia,zoom_in:sa,zoom_out:la,redo:ca,undo:ua,background_btn:da,clear_btn:pa,separator:fa,dropdown:ha},va=({user:e,title:t,children:r,logout:n,onClearSlide:a,toggleTitle:o})=>{let c=m.useMemo(()=>{if(!e)return"";let[i,l]=e.name.split(" ");return`${i.charAt(0)}${l?l.charAt(0):""}`.trim()},[e]);return L(m.Fragment,{children:[L("div",{className:H.header,children:[L("div",{className:H.logo,children:[s("img",{src:xt("/logo.png")}),s("span",{onClick:o,children:t})]}),r,s("div",{id:"user-dropdown",className:H.avatar,"data-letter":c})]}),L("div",{className:H.toolbar,children:[s("button",{className:H.redo,disabled:!0,children:s("i",{className:"bx-undo"})}),s("button",{className:H.undo,disabled:!0,children:s("i",{className:"bx-redo"})}),s("div",{className:H.separator}),s("button",{className:H.zoom_out,children:s("i",{className:"bx-zoom-out"})}),s("button",{className:H.zoom_in,children:s("i",{className:"bx-zoom-in"})}),s("div",{className:H.separator}),s("button",{className:H.background_btn,children:"Set background"}),s("div",{className:H.separator}),s("button",{className:H.clear_btn,onClick:a,children:"Clear frame"})]}),s(le,{selector:"#user-dropdown",placement:"bottom-end",className:H.dropdown,children:L(le.Item,{onClick:n,children:[s("i",{className:"bx-log-out"}),s("span",{children:"Logout"})]})})]})},ma="_enter_10q2k_1",ga="_fadeIn_10q2k_1",wa="_exit_10q2k_5",Zt={enter:ma,fadeIn:ga,exit:wa},vr=({children:e,selector:t,isOpen:r,toggle:n,...a})=>{let[o,c]=m.useState(null),[i,l]=m.useState(null);const{attributes:u,styles:d}=Nt(o,i,{placement:"right",modifiers:[{name:"offset",options:{offset:[0,10]}}]});m.useLayoutEffect(()=>{let p=document.querySelector(t);p&&c(p)},[]);const h=p=>{p&&wt({ref:p,onClose:n,doNotClose:g=>o?o.contains(g):!1})};return s(ct,{children:s(st,{in:r,timeout:200,unmountOnExit:!0,classNames:{enterActive:Zt.enter,exitActive:Zt.exit},onEntered:h,children:s("div",{ref:l,style:{...d.popper},...u.popper,...a,children:e})})})},xa="_enter_1a00t_1",ba="_menu_1a00t_1",_a="_fadeIn_1a00t_1",ya="_exit_1a00t_5",La="_container_1a00t_9",et={enter:xa,menu:ba,fadeIn:_a,exit:ya,container:La},Mt=({selector:e,children:t,className:r,placement:n="top",...a})=>{let[o,c]=m.useState(null),[i,l]=m.useState(null),[u,d]=m.useState(!1);const{attributes:h,styles:p}=Nt(o,i,{placement:n,modifiers:[{name:"offset",options:{offset:[0,10]}}]}),g=()=>{d(!0)},C=()=>{d(!1)};return m.useEffect(()=>{if(e.length===0)return;let f=document.querySelector(e);f&&(f.onmouseenter=g,f.onmouseleave=C,c(f))},[e]),s(ct,{children:s(st,{in:u,timeout:300,classNames:{enterActive:et.enter,exitActive:et.exit},unmountOnExit:!0,children:s("div",{ref:l,className:`${et.container} ${r||""}`.trim(),style:{...p.popper},...h.popper,...a,children:s("div",{className:et.menu,children:t})})})})};let it=[{label:"Circle",type:"circle",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20 C7.581722,20 4,16.418278 4,12 C4,7.581722 7.581722,4 12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z"})]})},{label:"Square",type:"square",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M2,2 L22,2 L22,22 L2,22 L2,2 Z M4,4 L4,20 L20,20 L20,4 L4,4 Z"})]})},{label:"Triangle",type:"triangle",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M2,22 L11.99,2 L22,22 L2,22 Z M11.9917889,6.47213631 L5.23462094,20 L18.7624846,20 L11.9917889,6.47213631 Z"})]})},{label:"Diamond",type:"diamond",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M2,12 L11.99,2 L22,12 L11.99,22 L2,12 Z M11.9914142,19.1715725 L19.1701583,12 L11.9914142,4.82842748 L4.82701326,12 L11.9914142,19.1715725 Z"})]})},{label:"Rectangle",type:"rectangle",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M2,7 L22,7 L22,17 L2,17 L2,7 Z M4,9 L4,15 L20,15 L20,9 L4,9 Z"})]})},{label:"Arrow",type:"arrow",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M12,2 L12,5.33333333 L2,5.33333333 L2,18.6666667 L12,18.6666667 L12,22 L22,11.9901333 L12,2 Z M19.1715725,11.9915287 L14,17.1682038 L14,16.6666667 L4,16.6666667 L4,7.33333333 L14,7.33333333 L14,6.82505878 L19.1715725,11.9915287 Z"})]})},{label:"Semi Circle",type:"semi-circle",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{strokeWidth:"1",d:"M22,17 C22,11.4771525 17.5228475,7 12,7 C6.4771525,7 2,11.4771525 2,17 C2,17 22,17 22,17 Z M4.25203497,15 C5.14012056,11.5495456 8.27232114,9 12,9 C15.7276789,9 18.8598794,11.5495456 19.747965,15 L4.25203497,15 Z"})]})}],Ea=[{label:"sketch",svg:void 0},{label:"Erase",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{d:"M17.26 18l-2 2h6.7v-2h-4.7zm4.15-6.67L13.04 20H4.73l-2.15-2.14c-.78-.78-.78-2.03 0-2.82L13.62 3.58c.78-.77 2.06-.77 2.84 0l4.95 4.93c.79.78.79 2.04 0 2.82z"})]})},{label:"Select",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("polygon",{points:"12.926 12 17.5 20 15 21.5 10.405 13.595 6 18 6 2 19 12"})]})},{label:"Sticky note",svg:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:s("path",{d:"M20,16V4H4v16h12v-2c0-1.1,0.9-2,2-2H20z M4,2h16c1.1,0,2,0.9,2,2v13l-5,5H4c-1.1,0-2-0.9-2-2V4 C2,2.9,2.9,2,4,2z M7,8h10v2H7V8z M7,12h6v2H7V12z"})})},{label:"shape",svg:void 0},{label:"Text Box",svg:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:s("path",{style:{strokeWidth:1},d:"M21,17 L23,17 L23,23 L17,23 L17,21 L7,21 L7,23 L1,23 L1,17 L3,17 L3,7 L1,7 L1,1 L7,1 L7,3 L17,3 L17,1 L23,1 L23,7 L21,7 L21,17 Z M21,19 L19,19 L19,21 L21,21 L21,19 Z M17,19 L17,17 L19,17 L19,7 L17,7 L17,5 L7,5 L7,7 L5,7 L5,17 L7,17 L7,19 L17,19 Z M21,5 L21,3 L19,3 L19,5 L21,5 Z M5,21 L5,19 L3,19 L3,21 L5,21 Z M3,5 L5,5 L5,3 L3,3 L3,5 Z M13,10 L13,16 L11,16 L11,10 L8,10 L8,8 L16,8 L16,10 L13,10 Z",fillRule:"nonzero"})})},{label:"Laser",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{d:"M8.98,13l-3.99,3c-1,0.88-1.13,2.12-1,3c0.14,0.99,0.92,2.22,2.01,2.68c1.57,0.67,3.09,0.22,4.04-0.76L18.98,13 c1.88-1.38,1-4-1-4h-5.96l7.44-4.39c0.44-0.32,0.62-0.79,0.6-1.24C20.01,2.67,19.46,2,18.6,2c-0.02,0-0.04,0-0.06,0 c-0.35,0.01-0.68,0.11-0.98,0.29L4.99,9c-0.8,0.46-1.05,1.24-1,2c0.06,1.03,0.75,2,2.01,2 M4.99,18.5c0-1.38,1.13-2.5,2.51-2.5 s2.51,1.12,2.51,2.5S8.88,21,7.5,21S4.99,19.88,4.99,18.5z"})]})}],Gt=[{label:"Pen",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M24 0v24H0V0h24z"}),s("path",{d:"M3 17.25V21h3.74l7.54-7.53-3.75-3.75L3 17.25zM18.37 3.3l2.34 2.33c.39.39.4 1.03.01 1.42l-5.37 5.36-3.76-3.76 2.53-2.53-.73-.73-5.66 5.66-1.4-1.4 6.37-6.36c.39-.39 1.04-.38 1.42.01l1.42 1.41 1.42-1.41c.38-.39 1.02-.39 1.41 0z"})]})},{label:"Marker",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M0 0h24v24H0V0z"}),s("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.7 9.49l4.29 4.3-6.54 6.54-.72-.72-1.43 1.43c-.79.79-2.07.79-2.86 0s-.79-2.08 0-2.86l1.43-1.43-.72-.72L9.7 9.49zm11.56-5.8L19.8 2.22c-.78-.78-2.05-.78-2.83 0l-6.21 6.21 4.29 4.3 6.21-6.21c.79-.78.79-2.05 0-2.83z"})]})},{label:"Highlighter",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[s("path",{fill:"none",d:"M0 0h24v24H0V0z"}),s("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.22 9.49l-5.91 6c-.77.8-.7 2.05.08 2.85L.77 22h5.68l.74-.75c.78.81 1.95.86 2.73.05l5.96-6.05-5.66-5.76zm12.46-4l-2.82-2.87c-.78-.8-2.07-.84-2.84-.04l-5.75 5.85 5.66 5.75 5.69-5.78c.77-.81.83-2.11.06-2.91z"})]})},{label:"Brush",svg:L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[s("path",{d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"})]})}],Dt=[{label:"Black",colorCode:"#3D4043"},{label:"Blue",colorCode:"#19ACC0"},{label:"Green",colorCode:"#699E3E"},{label:"White",colorCode:"#FFFFFF"},{label:"Yellow",colorCode:"#F3B32A"},{label:"Red",colorCode:"#D9453C"}];const Ca="_container_kg945_1",$a="_sketch_kg945_6",Sa="_color_kg945_7",Oa="_active_kg945_20",dt={container:Ca,sketch:$a,color:Sa,active:Oa},ka=({isOpen:e,sketch:t,sketchColor:r,toggle:n,onSelectSketch:a,onSelectSketchColor:o})=>{let c=i=>{o(i),n()};return s(vr,{className:dt.container,isOpen:e,selector:"#sketches",toggle:n,children:s("div",{className:dt.color,children:Dt.map(({label:i,colorCode:l},u)=>{let d=u===r?dt.active:void 0;return L(m.Fragment,{children:[s("button",{id:`color-${u}`,className:d,onClick:()=>c(u),children:s("span",{style:{backgroundColor:l}})}),s(Mt,{selector:`#color-${u}`,placement:"bottom",children:i})]},u)})})})},Na="_container_1iqw2_1",Ma="_shape_1iqw2_6",Da="_active_1iqw2_21",Jt={container:Na,shape:Ma,active:Da},Ra=({shape:e,isOpen:t,toggle:r,onSelectShape:n})=>{let a=o=>{n(o),r()};return s(vr,{className:Jt.container,isOpen:t,selector:"#shapes",toggle:r,children:s("div",{className:Jt.shape,children:it.map(({label:o,svg:c},i)=>L(m.Fragment,{children:[s("button",{id:`shape-${i}`,onClick:()=>a(i),children:c}),s(Mt,{selector:`#shape-${i}`,placement:"bottom",children:o})]},i))})})},Aa="_container_1uabz_1",Ta="_active_1uabz_29",Kt={container:Aa,active:Ta},Ba=({tool:e,sketch:t,shape:r,sketchColor:n,onSelectTool:a,onSelectShape:o,onSelectSketch:c,onSelectSketchColor:i})=>{let[l,u]=m.useState(!1),[d,h]=m.useState(!1),p=()=>{u(!l)},g=()=>{h(!d)},C=(f,v)=>{(v==="shape"||v==="sketch")&&e===f&&(v==="shape"?p():v==="sketch"&&g()),e!==f&&a(f)};return L(m.Fragment,{children:[s("div",{className:Kt.container,children:Ea.map(({label:f,svg:v},_)=>{let S=f==="shape"?it[r].svg:f==="sketch"?Gt[t].svg:v,M=f==="shape"?it[r].label:f==="sketch"?Gt[t].label:f,$=_===e?Kt.active:void 0,k=f==="shape"?"shapes":f==="sketch"?"sketches":`toolbar-${_}`,x=f==="sketch"?Dt[n].colorCode:void 0;return L(m.Fragment,{children:[L("button",{id:k,className:$,onClick:()=>C(_,f),style:{"--bgColor":x},children:[S,(f==="shape"||f==="sketch")&&s("i",{className:"bxs-right-arrow"})]}),s(Mt,{selector:`#toolbar-${_}`,placement:"right",children:M})]},_)})}),s(Ra,{isOpen:l,shape:r,toggle:p,onSelectShape:o}),s(ka,{isOpen:d,sketch:t,sketchColor:n,toggle:g,onSelectSketch:c,onSelectSketchColor:i})]})},Pa="_sketch_board_1qh03_1",Ia={sketch_board:Pa},ja=({tool:e,sketch:t,sketchColor:r,canvas:n,dimension:a,isActiveSlide:o=!1,onUpdateCanvas:c})=>{let i=m.useRef(null),l=m.useRef(null),u=m.useRef(null);m.useEffect(()=>{n.image&&g()},[]),m.useEffect(()=>{if(!i.current)return;l.current=i.current.getContext("2d");let f=document.querySelector(`[mini-canvas='${n._id}']`);f&&(u.current=f.getContext("2d"))},[]),m.useEffect(()=>{l.current.strokeStyle=e===6?"#FF3131":Dt[r].colorCode,l.current.lineWidth=5,l.current.lineCap="round",l.current.lineJoin="round"},[r,e]);let d=({pageX:f,pageY:v})=>{if(!i.current||!l.current)return;let{left:_,top:S,width:M,height:$}=i.current.getBoundingClientRect(),k=a.width/M,x=a.height/$,E=(f-_)*k,O=(v-S)*x;l.current.beginPath(),l.current.moveTo(E,O),u.current&&(u.current.beginPath(),u.current.moveTo(E,O)),window.addEventListener("mousemove",h),window.addEventListener("mouseup",p,{once:!0})},h=({x:f,y:v})=>{if(!i.current||!l.current)return;let{left:_,top:S,width:M,height:$}=i.current.getBoundingClientRect(),k=a.width/M,x=a.height/$,E=(f-_)*k,O=(v-S)*x;e===0||e==6?(l.current.lineTo(E,O),l.current.stroke(),u.current&&(u.current.lineTo(E,O),u.current.stroke())):e===1&&(l.current.clearRect(E,O,20,20),u.current&&u.current.clearRect(E,O,20,20))},p=()=>{i.current&&(window.removeEventListener("mousemove",h),i.current.toBlob(f=>{f&&c(n._id,f)},"image/png"))},g=()=>{let f=new Image;f.src=`data:image/png;base64,${n.image}`,f.onload=()=>{l.current&&(l.current.drawImage(f,0,0),u.current&&u.current.drawImage(f,0,0))}},C=f=>{[0,1,6].includes(e)&&f.preventDefault()};return s("canvas",{ref:i,className:Ia.sketch_board,width:a.width,height:a.height,"data-canvas":n._id,style:{pointerEvents:[0,1,6].includes(e)?"auto":"none"},onContextMenu:C,...[0,1,6].includes(e)&&o&&{onMouseDown:d}})},mr=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:"M400 200.05612459660446 L400 200.05612459660446 L397.7559551191024 230.01062358435726 L391.0678213564271 259.29162741285654 L380.0876017520351 287.24167652187856 L365.0673013460269 313.2353825492594 L346.334926698534 336.6874461304095 L324.3184863697274 357.0686924973441 L299.51399027980557 373.92611597747003 L272.46944938898775 386.87887109382825 L243.79687593751873 395.6343081641244 L214.14428288565773 400 L184.17168343366868 399.8717152077612 L154.55509110182203 395.257471586923 L125.95851917038343 386.26150053117925 L99.02598051961039 373.0802381286456 L74.35748714974298 356.01836076088915 L52.513050261005226 335.4486961053539 L33.98067961359227 311.84028543366276 L19.176383527670552 285.7223035138007 L8.436168723374466 257.68004971035697 L1.992039840796816 228.34292128525325 L0 198.3723866984706 L2.49604992099842 168.4379322095051 L9.428188563771275 139.2130529776103 L20.640412808256162 111.35520856300988 L35.880717614352285 85.48978732786787 L54.80509610192203 62.19807973701618 L76.9935398707974 42.00124275892481 L101.94203884077682 25.35228206618693 L129.09458189163783 12.628034236003929 L157.8351567031341 4.1131311511555655 L187.5277505550111 0 L217.49634992699853 0.3808454769588486 L247.0729414588292 5.243640882759727 L275.5935118702374 14.480145923951174 L302.4140482809656 27.885906712902646 L326.93853877077544 45.16025576780453 L348.6069721394428 65.91032091242559 L366.9433388667773 89.67507867465774 L381.5276305526111 115.91733648700114 L392.03584071681433 144.04778608510895 L398.2279645592912 173.43703020705968 L400 200.05612459660446 Z"})}),gr=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:`M${e/2} ${t} L${e/2} ${t} L0 ${t/2} L${e/2} 0 L${e} ${t/2} Z`})}),wr=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:`M0 0 L0 0 L0 ${t} L${e} ${t} L${e} 0 Z`})}),xr=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:"M0 200 L0 200 L2.244 170.03709273182957 L8.932 140.74786967418547 L19.912 112.78997493734335 L34.932 86.7889724310777 L53.664 63.33032581453635 L75.67999999999999 42.94335839598997 L100.484 26.081203007518805 L127.52799999999999 13.124812030075194 L156.20000000000002 4.366917293233078 L185.852 0 L215.82399999999998 0.12832080200500978 L245.44000000000003 4.743859649122801 L274.036 13.742355889724303 L300.968 26.92731829573934 L325.63599999999997 43.99398496240601 L347.48 64.56942355889723 L366.012 88.18446115288222 L380.816 114.30977443609021 L391.55600000000004 142.35989974937343 L398 171.70526315789476 L400 200 L0 200 Z"})}),br=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:`M0 0 L0 0 L0 ${t} L${e} ${t} L${e} 0 Z`})}),_r=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:`M${e} ${t} L${e} ${t} L0 ${t} L${e/2} 0 Z`})}),yr=({width:e,height:t})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:s("path",{d:`M${e} ${t/2} L${e} ${t/2} L${e/2} 0 L${e/2} ${t/6} L0 ${t/6} L0 ${t-t/6} L${e/2} ${t-t/6} L${e/2} ${t} Z`})}),za="_container_tfnie_1",Ha={container:za},Lr=({text:e,backgroundColor:t="#fff"})=>s("div",{className:Ha.container,style:{backgroundColor:t||void 0},children:s("h2",{children:e})}),Va="_field_ak0ir_1",qa={field:Va},Er=({readOnly:e,...t})=>{let r=m.useRef(null);return m.useEffect(()=>{!r.current||e||r.current.focus()},[e]),s("textarea",{ref:r,className:qa.field,readOnly:e,...t})},Wa="_container_cn33k_1",Fa="_top_start_cn33k_37",Ya="_bottom_start_cn33k_38",Xa="_bottom_end_cn33k_39",Ua="_top_cn33k_37",Za="_bottom_cn33k_38",Ga="_left_cn33k_54",Ja="_right_cn33k_55",Ka="_top_end_cn33k_83",se={container:Wa,top_start:Fa,bottom_start:Ya,bottom_end:Xa,top:Ua,bottom:Za,left:Ga,right:Ja,top_end:Ka},Qa=({shapeId:e,shapeProps:t,shapeRef:r,onClose:n,onMouseDown:a,onReset:o})=>{let c=m.useRef(null);m.useEffect(()=>{if(!r)return;let p=wt({ref:r,onClose:n,doNotClose:g=>{if(!(!c.current||!r))return c.current.contains(g)||r.contains(g)}});return()=>{p(),o()}},[]);let{width:i,height:l,translateX:u,translateY:d,rotate:h}=t;return L("div",{ref:c,className:se.container,style:{width:`${i+30}px`,height:`${l+30}px`,transform:`translate(${u}px, ${d}px) rotate(${h}deg)`},children:[s("button",{className:se.top_start,onMouseDown:p=>a(p,"rotate"),children:s("img",{src:xt("/rotate.svg"),alt:"",draggable:!1})}),s("button",{className:se.top,onMouseDown:p=>a(p,"top")}),s("button",{"shape-id":e,className:se.top_end,children:s("i",{className:"bx-dots-vertical-rounded"})}),s("button",{className:se.left,onMouseDown:p=>a(p,"left")}),s("button",{className:se.right,onMouseDown:p=>a(p,"right")}),s("button",{className:se.bottom_start,onMouseDown:p=>a(p,"bottom-start")}),s("button",{className:se.bottom,onMouseDown:p=>a(p,"bottom")}),s("button",{className:se.bottom_end,onMouseDown:p=>a(p,"bottom-end")})]})},eo="_container_7i9wh_1",to="_overlay_7i9wh_7",gt={container:eo,overlay:to},ro=({shape:e,selectedShapeId:t,onClick:r,onBlur:n,onUpdateShape:a})=>{let[o,c]=m.useState(null),[i,l]=m.useState(!0),u=m.useRef(null),d=m.useRef(null),h=$r(x=>a(x),1e3);m.useEffect(()=>{c(e.props)},[e.props]);let p=({target:{value:x,scrollHeight:E}})=>{if(!o)return;let O={...o,height:E,text:x};h({_id:e._id,props:O}),c(O)},g=m.useMemo(()=>{if(!o)return null;let{width:x,height:E,text:O}=o;switch(e.type){case"sticky-note":return s(Lr,{text:"Hello World"});case"text-box":return s(Er,{defaultValue:O,readOnly:i,onChange:p});case"arrow":return s(yr,{width:x,height:E});case"circle":return s(mr,{width:x,height:E});case"diamond":return s(gr,{width:x,height:E});case"rectangle":return s(wr,{width:x,height:E});case"semi-circle":return s(xr,{width:x,height:E});case"square":return s(br,{width:x,height:E});case"triangle":return s(_r,{width:x,height:E});default:return null}},[e.type,o==null?void 0:o.width,o==null?void 0:o.height,i]),C=({x,y:E})=>{if(!o||!d.current||!u.current)return;let{pageX:O,pageY:D,type:R}=d.current,b={...o},{width:A,height:P}=u.current.parentElement.getBoundingClientRect(),{clientWidth:j,clientHeight:F}=u.current.parentElement,T=j/A,B=F/P;switch(R){case"move":b.translateX+=(x-O)*T,b.translateY+=(E-D)*B;break;case"rotate":break;case"left":b.translateX+=(x-O)*T,b.width+=-(x-O)*T;break;case"right":b.width+=(x-O)*T;break;case"bottom":b.height+=(E-D)*B;break;case"top":b.translateY+=(E-D)*B,b.height+=-(E-D)*B;break;case"bottom-start":b.translateX+=(x-O)*T,b.width+=-(x-O)*T,b.height+=(E-D)*B;break;case"bottom-end":b.width+=(x-O)*T,b.height+=(E-D)*B;break;default:return}R==="move"?(b.translateX=Math.max(0,Math.min(j-b.width,b.translateX)),b.translateY=Math.max(0,Math.min(F-b.height,b.translateY))):(b.width=Math.min(j-b.translateX,Math.max(125,b.width)),b.height=Math.min(F-b.translateY,Math.max(125,b.height))),c(b)},f=()=>{window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",C)},v=()=>{window.addEventListener("mouseup",_),window.addEventListener("mousemove",C)},_=()=>{f(),d.current=null,c(x=>(x&&a({_id:e._id,props:x}),x))},S=(x,E)=>{x.stopPropagation();let{pageX:O,pageY:D}=x;d.current={type:E,pageX:O,pageY:D},v()},M=()=>{(e.type==="sticky-note"||e.type==="text-box")&&l(!1)},$=()=>{r(e._id)},k=()=>{i||l(!0)};return o?L(m.Fragment,{children:[L("div",{ref:u,className:gt.container,onClick:$,style:{width:`${o.width}px`,height:`${o.height}px`,transform:`translate(${o.translateX}px, ${o.translateY}px) rotate(${o.rotate}deg)`},children:[g,e._id===t&&s("div",{className:gt.overlay,onDoubleClick:M,onMouseDown:x=>S(x,"move"),style:{cursor:i?"move":"default",pointerEvents:i?"auto":"none"}})]}),e._id===t&&s(Qa,{shapeId:e._id,shapeProps:o,shapeRef:u.current,onClose:n,onMouseDown:S,onReset:k})]}):null},Cr=({shape:e})=>{let[t,r]=m.useState(null);m.useEffect(()=>{r(e.props)},[e.props]);let n=m.useMemo(()=>{if(!t)return null;let{width:a,height:o,text:c}=t;switch(e.type){case"sticky-note":return s(Lr,{text:"Hello World"});case"text-box":return s(Er,{defaultValue:c,readOnly:!0});case"arrow":return s(yr,{width:a,height:o});case"circle":return s(mr,{width:a,height:o});case"diamond":return s(gr,{width:a,height:o});case"rectangle":return s(wr,{width:a,height:o});case"semi-circle":return s(xr,{width:a,height:o});case"square":return s(br,{width:a,height:o});case"triangle":return s(_r,{width:a,height:o});default:return null}},[e.type,t==null?void 0:t.width,t==null?void 0:t.height]);return t?s("div",{className:gt.container,style:{width:`${t.width}px`,height:`${t.height}px`,transform:`translate(${t.translateX}px, ${t.translateY}px) rotate(${t.rotate}deg)`},children:n}):null},no="_container_d2zqk_1",ao="_slide_icon_d2zqk_10",oo="_navigate_btn_d2zqk_29",io="_slides_d2zqk_53",so="_slide_list_d2zqk_66",lo="_slide_d2zqk_10",co="_active_d2zqk_80",uo="_board_d2zqk_83",po="_add_btn_d2zqk_112",fo="_slide_dropdown_d2zqk_146",V={container:no,slide_icon:ao,navigate_btn:oo,slides:io,slide_list:so,slide:lo,active:co,board:uo,add_btn:po,slide_dropdown:fo};let tt={width:224,height:126};const ho=({slides:e,activeSlide:t,activeSlideId:r,dimension:n,onSlideChange:a,onAddSlide:o,onDeleteSlide:c})=>{let[i,l]=m.useState(!1),u=m.useRef(null),d=e?e.length:1,h={width:n.width/2,height:n.height/2};m.useEffect(()=>{if(u.current)return setTimeout(()=>{i?window.addEventListener("click",p):window.removeEventListener("click",p)},0),()=>{window.removeEventListener("click",p)}},[i]);let p=v=>{if(!u.current)return;let _=v.target;u.current.contains(_)||g()},g=()=>{l(!i)},C=()=>{t!==0&&a(t-1)},f=()=>{t!==d-1&&a(t+1)};return L(m.Fragment,{children:[L("div",{className:V.container,children:[s("button",{className:V.navigate_btn,disabled:t===0,onClick:C,children:s("i",{className:"bx-chevron-left"})}),L("div",{className:V.slide_icon,onClick:g,children:[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46",height:"36",viewBox:"0 0 46 36",children:L("g",{fill:"none",children:[s("rect",{width:"38",height:"22",x:"1",y:"7",stroke:"#3C4043",strokeWidth:"2"}),s("path",{fill:"#5F6368",d:"M8,4 L6,4 L6,0 L46,0 L46,24 L42,24 L42,22 L44,22 L44,2 L8,2 L8,4 Z"}),s("polygon",{fill:"#80868B",points:"26 33 23 36 20 33"})]})}),L("span",{children:[t+1," / ",d]})]}),s("button",{className:V.navigate_btn,disabled:t===d-1,onClick:f,children:s("i",{className:"bx-chevron-right"})})]}),L("div",{ref:u,className:V.slides,"aria-expanded":i,children:[s("button",{className:V.navigate_btn,disabled:t===0,onClick:C,children:s("i",{className:"bx-chevron-left"})}),L("div",{className:V.slide_list,children:[s("button",{className:V.add_btn,onClick:()=>o(0),children:s("i",{className:"bx-plus"})}),e&&e.length>0&&e.map((v,_)=>L(m.Fragment,{children:[L("div",{className:`${V.slide} ${v._id===r?V.active:""}`.trim(),style:{width:`${tt.width+4}px`,height:`${tt.height+4}px`},"data-mini-slide":v._id,onClick:()=>a(_),children:[L("div",{className:V.board,style:{width:`${n.width}px`,height:`${n.height}px`,transform:`scale(${tt.width/n.width},${tt.height/n.height})`},children:[s("canvas",{width:h.width,height:h.height,"mini-canvas":v.canvas._id}),v.shapes&&v.shapes.map(S=>s(Cr,{shape:S},S._id))]}),s("button",{id:`slide-dropdown-${v._id}`,onClick:S=>S.stopPropagation(),children:s("i",{className:"bx-dots-vertical-rounded"})})]}),s("button",{className:V.add_btn,onClick:()=>o(_+1),children:s("i",{className:"bx-plus"})}),L(le,{selector:`#slide-dropdown-${v._id}`,className:V.slide_dropdown,placement:"bottom",children:[L(le.Item,{children:[s("i",{className:"bx-duplicate"}),s("span",{children:"Duplicate"})]}),L(le.Item,{onClick:()=>c(v._id),children:[s("i",{className:"bx-trash"}),s("span",{children:"Delete"})]})]})]},v._id))]}),s("button",{className:V.navigate_btn,disabled:t===d-1,onClick:f,children:s("i",{className:"bx-chevron-right"})})]})]})},vo="_container_o9ygc_1",mo="_dialog_o9ygc_9",go="_content_o9ygc_13",wo="_overlay_o9ygc_21",xo="_fadeOut_o9ygc_1",bo="_show_o9ygc_31",_o="_fadeIn_o9ygc_1",yo="_enter_o9ygc_36",Lo="_show_modal_o9ygc_1",Eo="_exit_o9ygc_39",Co="_slideInBottom_o9ygc_1",we={container:vo,dialog:mo,content:go,overlay:wo,fadeOut:xo,show:bo,fadeIn:_o,enter:yo,show_modal:Lo,exit:Eo,slideInBottom:Co},$o=({isOpen:e,children:t,size:r="md",closeClickOnOutSide:n=!0,toggle:a})=>{let o=()=>{e&&a()};return s(ct,{children:s(st,{in:e,timeout:300,unmountOnExit:!0,classNames:{enterActive:we.enter,exitActive:we.exit},children:L("div",{children:[s("div",{className:we.container,...n&&{onClick:o},children:s("div",{className:we.dialog,children:s("div",{"data-size":r,className:we.content,onClick:c=>c.stopPropagation(),children:t})})}),s("div",{className:`${we.overlay} ${e?we.show:""}`.trim()})]})})})},So="_container_1flam_1",Oo="_title_1flam_1",ko="_form_1flam_8",No="_field_1flam_17",Mo="_error_msg_1flam_35",Do="_submit_btn_1flam_47",Ne={container:So,title:Oo,form:ko,field:No,error_msg:Mo,submit_btn:Do},Ro=({isOpen:e,title:t,toggle:r,onSubmit:n})=>{let{register:a,handleSubmit:o,reset:c,setValue:i,formState:{errors:l}}=Nr();return m.useEffect(()=>{e||(i("title",""),c())},[e]),s($o,{isOpen:e,toggle:r,size:"sm",closeClickOnOutSide:!1,children:L("div",{className:Ne.container,children:[s("div",{className:Ne.title,children:s("span",{children:"Rename Jam"})}),L("div",{className:Ne.form,children:[s("label",{htmlFor:"title",children:"Enter a new name :"}),L("div",{className:Ne.field,children:[s("input",{id:"title",placeholder:"Enter title",defaultValue:t,...a("title",{required:{value:!0,message:"Please enter title"}})}),l.title&&L("div",{className:Ne.error_msg,children:[s("i",{className:"bx-error-circle"}),s("span",{children:l.title.message})]})]})]}),L("div",{className:Ne.submit_btn,children:[s("button",{onClick:o(({title:u})=>n(u)),children:"Ok"}),s("button",{onClick:r,children:"Cancel"})]})]})})},Ao=e=>ue({url:er.getDetail(e),method:"get"}),To=(e,t)=>ue({url:er.update(e),method:"put",data:t}),Bo=(e,t)=>ue({url:bt.create(e),method:"post",params:t}),Po=(e,t)=>ue({url:bt.delete(e),method:"delete",params:t}),Io=(e,t)=>ue({url:bt.clear(e),method:"put",params:t}),jo=(e,t,r)=>ue({method:"post",url:_t.create(e),params:t,data:r}),zo=(e,t)=>ue({url:_t.update(e),method:"put",data:t}),Ho=(e,t)=>ue({url:_t.delete(e),method:"delete",params:t}),Vo=(e,t)=>ue({url:Sr.update(e),method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}),qo="_container_1lc1r_1",Wo="_slide_1lc1r_7",Fo="_board_1lc1r_12",Yo="_shape_dropdown_1lc1r_22",rt={container:qo,slide:Wo,board:Fo,shape_dropdown:Yo};let _e={width:3840,height:2160},qe={width:_e.width/2,height:_e.height/2};const Zo=()=>{let{user:e,logout:t}=Or(),[r,n]=m.useState(2),[a,o]=m.useState(1),[c,i]=m.useState(0),[l,u]=m.useState(0),[d,h]=m.useState({}),{slides:p,title:g}=d,C=m.useRef(null),f=m.useRef(null),[v,_]=m.useState(0),[S,M]=m.useState(null),[$,k]=m.useState(null),[x,E]=m.useState(!1),[O,D]=m.useState({x:1,y:1}),R=m.useRef({pageX:0,pageY:0}),{documentId:b}=kr();Mr(g),m.useLayoutEffect(()=>{j()},[]);let A=m.useMemo(()=>{if(!p||p.length===0)return;let w=p.find((y,N)=>N===v);if(w)return w._id},[v,p]);m.useEffect(()=>{if(!A)return;f.current=document.querySelector(`[data-slide='${A}']`),document.querySelector(`[data-mini-slide='${A}']`).scrollIntoView({behavior:"smooth",inline:"center"}),f.current.scrollIntoView({behavior:"smooth",inline:"center"})},[A]),m.useEffect(()=>(window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}),[]),m.useEffect(()=>{P()},[b]);let P=async()=>{if(b)try{let{data:{data:w}}=await Ao(b);h(w)}catch(w){ie.error(w==null?void 0:w.message)}},j=()=>{if(!C.current)return;let{clientHeight:w}=C.current,y=w-30,N=y/9*16;D({...O,x:N/_e.width,y:y/_e.height})},F=async()=>{if(!b||!A)return;let w=v;try{await Io(b,{slideId:A});let y=p[w].canvas._id,N=document.querySelector(`[data-canvas='${y}']`);if(N){let z=N.getContext("2d");z&&z.clearRect(0,0,qe.width,qe.height)}let I=document.querySelector(`[mini-canvas='${y}']`);if(I){let z=I.getContext("2d");z&&z.clearRect(0,0,qe.width,qe.height)}let X={...d},U=X.slides[v];U.shapes=[],U.canvas.image=null,h(X)}catch(y){ie.error(y==null?void 0:y.message)}},T=async(w,y)=>{try{let N=v,I=new FormData;I.append("file",y),await Vo(w,I);let X=new FileReader;X.readAsDataURL(y),X.onloadend=()=>{let U=X.result;if(typeof U!="string")return;let z={...d};z.slides[N].canvas.image=U.replace("data:image/png;base64,",""),h(z)}}catch(N){ie.error(N==null?void 0:N.message)}},B=w=>{M(w)},Ce=()=>{M(null)},ne=()=>{},$e=async()=>{if(!(!b||!A||!S||!p||p.length===0))try{let w=p[v].shapes.findIndex(({_id:N})=>N===S);if(w===-1)return;await Ho(b,{slideId:A,shapeId:S});let y={...d};y.slides[v].shapes.splice(w,1),h(y),M(null)}catch(w){ie.error(w==null?void 0:w.message)}},Be=m.useMemo(()=>{let w="";return r===0?w=`/cursor/color-${l}.png`:r===1?w="/cursor/color-3.png":r===6&&(w="/cursor/color-5.png"),w?`url(${xt(w)}), auto`:r===4?"crosshair":"default"},[r,l]),he=({pageX:w,pageY:y})=>{if(!f.current||!A)return;let{width:N,height:I,left:X,top:U}=f.current.getBoundingClientRect(),{clientWidth:z,clientHeight:je}=f.current,ze=z/N,Y=je/I,ee=r==5,ge={slideId:A,shape:{_id:crypto.randomUUID(),type:ee?"text-box":it[a].type,props:{width:ee?250:1,height:ee?150:1,rotate:0,translateX:(w-X)*ze,translateY:(y-U)*Y}}};R.current={pageX:w,pageY:y},k(ge),window.addEventListener("mousemove",ve),window.addEventListener("mouseup",pe,{once:!0})},ve=({pageX:w,pageY:y})=>{k(N=>{if(!N||!f.current)return N;let{width:I,height:X,left:U,top:z}=f.current.getBoundingClientRect(),{clientWidth:je,clientHeight:ze}=f.current,Y=je/I,ee=ze/X,ge={...N},{shape:{props:oe}}=ge,Oe=w-R.current.pageX,He=y-R.current.pageY;return oe.width=Math.abs(Oe)*Y,oe.height=Math.abs(He)*ee,Oe<0&&(oe.translateX=Y*(R.current.pageX-U)-oe.width),He<0&&(oe.translateY=Y*(R.current.pageY-z)-oe.height),ge})},pe=()=>{window.removeEventListener("mousemove",ve),k(w=>(w&&me(w.shape),w))},Q=async w=>{try{let y=p[v].shapes.findIndex(({_id:I})=>I===w._id);if(y===-1)return;await zo(w._id,w);let N={...d};N.slides[v].shapes[y].props=w.props,h(N)}catch(y){ie.error(y==null?void 0:y.message)}},me=async w=>{if(!b||!A)return;let y={type:w.type,props:w.props};try{let{data:{data:N}}=await jo(b,{slideId:A},y),I={...d};I.slides[v].shapes.push(N),h(I),M(N._id),k(null),n(2)}catch(N){ie.error(N==null?void 0:N.message)}},Se=async w=>{if(b)try{let{data:{data:y}}=await Bo(b,{position:w}),N={...d};N.slides.splice(w,0,y),h(N),_(w)}catch(y){ie.error(y==null?void 0:y.message)}},ae=async w=>{if(b)try{let y=p.findIndex(({_id:I})=>I===w);if(y===-1)return;await Po(b,{slideId:w});let N={...d};N.slides.splice(y,1),h(N)}catch(y){ie.error(y==null?void 0:y.message)}},Pe=async w=>{if(b)try{await To(b,{title:w}),Ie(),h({...d,title:w})}catch(y){ie.error(y==null?void 0:y.message)}},Ie=()=>{E(!x)};return L(m.Fragment,{children:[s(va,{user:e,title:g,logout:t,onClearSlide:F,toggleTitle:Ie,children:s(ho,{slides:p,activeSlide:v,activeSlideId:A,dimension:_e,onSlideChange:_,onAddSlide:Se,onDeleteSlide:ae})}),L("div",{ref:C,className:rt.container,children:[s(Ba,{tool:r,shape:a,sketch:c,sketchColor:l,onSelectTool:n,onSelectShape:o,onSelectSketch:i,onSelectSketchColor:u}),p&&p.length>0&&p.map(w=>s("div",{className:rt.slide,children:L("div",{"data-slide":w._id,className:rt.board,style:{cursor:Be,width:_e.width,height:_e.height,transform:`scale(${O.x},${O.y}) translate(-50%, -50%)`},...[4,5].includes(r)&&{onMouseDown:he},children:[s(ja,{tool:r,sketch:c,sketchColor:l,canvas:w.canvas,dimension:qe,onUpdateCanvas:T,isActiveSlide:w._id===A}),w.shapes&&w.shapes.map(y=>s(ro,{shape:y,selectedShapeId:S,onClick:B,onBlur:Ce,onUpdateShape:Q},y._id)),$&&$.slideId===w._id&&s(Cr,{shape:$.shape})]})},w._id))]}),L(le,{selector:`button[shape-id='${S}']`,className:rt.shape_dropdown,placement:"bottom","aria-disabled":!!S,children:[L(le.Item,{onClick:ne,children:[s("i",{className:"bx-duplicate"}),s("span",{children:"Duplicate"})]}),L(le.Item,{onClick:$e,children:[s("i",{className:"bx-trash"}),s("span",{children:"Delete"})]})]}),s(Ro,{title:g,isOpen:x,toggle:Ie,onSubmit:Pe})]})};export{Zo as default};
