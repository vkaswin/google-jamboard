import{r as b,j as c,a as P,L as dn,g as ce,c as ve,d as cn,R as F,b as le,S as Ne,e as it,C as un,u as fn,Q}from"./index-20620ad3.js";import{u as pn}from"./useAuth-d58fff88.js";import{A as hn,u as Lt,P as st,C as lt,D as _e,g as mn,a as gn}from"./Document-fdd6c738.js";import{u as Mt}from"./index.esm-2f66885d.js";const vn=e=>{b.useEffect(()=>{!document||!e||document.title===e||(document.title=e)},[e])},wn="_header_1qudc_1",bn="_logo_1qudc_12",ft={header:wn,logo:bn},Sn=({user:e,title:t,children:n,logout:r,toggleTitle:s})=>c(b.Fragment,{children:P("div",{className:ft.header,children:[P("div",{className:ft.logo,children:[c(dn,{to:"/document/list",children:c("img",{src:ce("/logo.png")})}),c("span",{onClick:s,children:t})]}),n,c(hn,{user:e,logout:r})]})}),xn="_enter_1a00t_1",_n="_menu_1a00t_1",Cn="_fadeIn_1a00t_1",yn="_exit_1a00t_5",Tn="_container_1a00t_9",Le={enter:xn,menu:_n,fadeIn:Cn,exit:yn,container:Tn},Te=({selector:e,children:t,className:n,placement:r="top",...s})=>{let[i,o]=b.useState(null),[a,l]=b.useState(null),[d,h]=b.useState(!1);const{attributes:f,styles:v}=Lt(i,a,{placement:r,modifiers:[{name:"offset",options:{offset:[0,10]}}]}),p=()=>{h(!0)},u=()=>{h(!1)};return b.useEffect(()=>{if(e.length===0)return;let g=document.querySelector(e);g&&(g.onmouseenter=p,g.onmouseleave=u,o(g))},[e]),c(st,{children:c(lt,{in:d,timeout:300,classNames:{enterActive:Le.enter,exitActive:Le.exit},unmountOnExit:!0,children:c("div",{ref:l,className:`${Le.container} ${n||""}`.trim(),style:{...v.popper},...f.popper,...s,children:c("div",{className:Le.menu,children:t})})})})},En="_enter_10q2k_1",Ln="_fadeIn_10q2k_1",Mn="_exit_10q2k_5",pt={enter:En,fadeIn:Ln,exit:Mn},Oe=({children:e,selector:t,isOpen:n,placement:r="right",toggle:s,...i})=>{let[o,a]=b.useState(null),[l,d]=b.useState(null);const{attributes:h,styles:f}=Lt(o,l,{placement:r,modifiers:[{name:"offset",options:{offset:[0,10]}}]});b.useLayoutEffect(()=>{let p=document.querySelector(t);p&&a(p)},[]);const v=p=>{p&&ve({ref:p,onClose:s,doNotClose:u=>o?o.contains(u):!1})};return c(st,{children:c(lt,{in:n,timeout:200,unmountOnExit:!0,classNames:{enterActive:pt.enter,exitActive:pt.exit},onEntered:v,children:c("div",{ref:d,style:{...f.popper},...h.popper,...i,children:e})})})};let Pe=[{label:"Circle",type:"circle",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20 C7.581722,20 4,16.418278 4,12 C4,7.581722 7.581722,4 12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z"})]})},{label:"Square",type:"square",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M2,2 L22,2 L22,22 L2,22 L2,2 Z M4,4 L4,20 L20,20 L20,4 L4,4 Z"})]})},{label:"Triangle",type:"triangle",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M2,22 L11.99,2 L22,22 L2,22 Z M11.9917889,6.47213631 L5.23462094,20 L18.7624846,20 L11.9917889,6.47213631 Z"})]})},{label:"Diamond",type:"diamond",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M2,12 L11.99,2 L22,12 L11.99,22 L2,12 Z M11.9914142,19.1715725 L19.1701583,12 L11.9914142,4.82842748 L4.82701326,12 L11.9914142,19.1715725 Z"})]})},{label:"Arrow",type:"arrow",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M12,2 L12,5.33333333 L2,5.33333333 L2,18.6666667 L12,18.6666667 L12,22 L22,11.9901333 L12,2 Z M19.1715725,11.9915287 L14,17.1682038 L14,16.6666667 L4,16.6666667 L4,7.33333333 L14,7.33333333 L14,6.82505878 L19.1715725,11.9915287 Z"})]})},{label:"Rectangle",type:"rectangle",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{strokeWidth:"1",d:"M2,7 L22,7 L22,17 L2,17 L2,7 Z M4,9 L4,15 L20,15 L20,9 L4,9 Z"})]})}],kn=[{label:"sketch",svg:void 0},{label:"Erase",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{d:"M17.26 18l-2 2h6.7v-2h-4.7zm4.15-6.67L13.04 20H4.73l-2.15-2.14c-.78-.78-.78-2.03 0-2.82L13.62 3.58c.78-.77 2.06-.77 2.84 0l4.95 4.93c.79.78.79 2.04 0 2.82z"})]})},{label:"Select",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("polygon",{points:"12.926 12 17.5 20 15 21.5 10.405 13.595 6 18 6 2 19 12"})]})},{label:"Sticky note",svg:c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:c("path",{d:"M20,16V4H4v16h12v-2c0-1.1,0.9-2,2-2H20z M4,2h16c1.1,0,2,0.9,2,2v13l-5,5H4c-1.1,0-2-0.9-2-2V4 C2,2.9,2.9,2,4,2z M7,8h10v2H7V8z M7,12h6v2H7V12z"})})},{label:"shape",svg:void 0},{label:"Text Box",svg:c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:c("path",{style:{strokeWidth:1},d:"M21,17 L23,17 L23,23 L17,23 L17,21 L7,21 L7,23 L1,23 L1,17 L3,17 L3,7 L1,7 L1,1 L7,1 L7,3 L17,3 L17,1 L23,1 L23,7 L21,7 L21,17 Z M21,19 L19,19 L19,21 L21,21 L21,19 Z M17,19 L17,17 L19,17 L19,7 L17,7 L17,5 L7,5 L7,7 L5,7 L5,17 L7,17 L7,19 L17,19 Z M21,5 L21,3 L19,3 L19,5 L21,5 Z M5,21 L5,19 L3,19 L3,21 L5,21 Z M3,5 L5,5 L5,3 L3,3 L3,5 Z M13,10 L13,16 L11,16 L11,10 L8,10 L8,8 L16,8 L16,10 L13,10 Z",fillRule:"nonzero"})})}],ht=[{label:"Pen",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M24 0v24H0V0h24z"}),c("path",{d:"M3 17.25V21h3.74l7.54-7.53-3.75-3.75L3 17.25zM18.37 3.3l2.34 2.33c.39.39.4 1.03.01 1.42l-5.37 5.36-3.76-3.76 2.53-2.53-.73-.73-5.66 5.66-1.4-1.4 6.37-6.36c.39-.39 1.04-.38 1.42.01l1.42 1.41 1.42-1.41c.38-.39 1.02-.39 1.41 0z"})]})},{label:"Marker",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M0 0h24v24H0V0z"}),c("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.7 9.49l4.29 4.3-6.54 6.54-.72-.72-1.43 1.43c-.79.79-2.07.79-2.86 0s-.79-2.08 0-2.86l1.43-1.43-.72-.72L9.7 9.49zm11.56-5.8L19.8 2.22c-.78-.78-2.05-.78-2.83 0l-6.21 6.21 4.29 4.3 6.21-6.21c.79-.78.79-2.05 0-2.83z"})]})},{label:"Highlighter",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[c("path",{fill:"none",d:"M0 0h24v24H0V0z"}),c("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.22 9.49l-5.91 6c-.77.8-.7 2.05.08 2.85L.77 22h5.68l.74-.75c.78.81 1.95.86 2.73.05l5.96-6.05-5.66-5.76zm12.46-4l-2.82-2.87c-.78-.8-2.07-.84-2.84-.04l-5.75 5.85 5.66 5.75 5.69-5.78c.77-.81.83-2.11.06-2.91z"})]})},{label:"Brush",svg:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",children:[c("path",{d:"M0 0h24v24H0z",fill:"none"}),c("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"})]})}],Ae=[{label:"Black",colorCode:"#262626",lightColorCode:"#b1b3b4"},{label:"Blue",colorCode:"#19ACC0",lightColorCode:"#99dee6"},{label:"Green",colorCode:"#699E3E",lightColorCode:"#c3d9af"},{label:"Yellow",colorCode:"#F3B32A",lightColorCode:"#fbe199"},{label:"Red",colorCode:"#D9453C",lightColorCode:"#f1b4af"},{label:"White",colorCode:"#FFFFFF",lightColorCode:"#FFFFFF"}];const $n=[{label:"Default",bgCode:"default"},{label:"Dots",bgCode:"dots"},{label:"Blue line",bgCode:"blue-line"},{label:"Blue graph",bgCode:"blue-graph"},{label:"Gray graph",bgCode:"gray-graph"},{label:"Blueboard",bgCode:"blue-board"},{label:"Chalkboard",bgCode:"chalk-board"}],In="_container_kg945_1",Pn="_sketch_kg945_6",zn="_color_kg945_7",Nn="_active_kg945_20",He={container:In,sketch:Pn,color:zn,active:Nn},On=({isOpen:e,sketch:t,sketchColor:n,toggle:r,onSelectSketch:s,onSelectSketchColor:i})=>{let o=b.useRef(null);b.useEffect(()=>{if(!o.current||!e)return;let l=ve({ref:o.current,onClose:r,doNotClose:d=>{var h;return(h=o.current)==null?void 0:h.contains(d)}});return()=>{l()}},[e]);let a=l=>{i(l),r()};return c(Oe,{className:He.container,isOpen:e,selector:"#sketches",toggle:r,children:c("div",{ref:o,className:He.color,children:Ae.map(({label:l,colorCode:d},h)=>{let f=h===n?He.active:void 0;return P(b.Fragment,{children:[c("button",{id:`color-${h}`,className:f,onClick:()=>a(h),children:c("span",{style:{backgroundColor:d}})}),c(Te,{selector:`#color-${h}`,placement:"bottom",children:l})]},h)})})})},An="_container_16s3w_1",Dn="_shape_16s3w_6",Bn="_active_16s3w_21",mt={container:An,shape:Dn,active:Bn},Rn=({shape:e,isOpen:t,toggle:n,onSelectShape:r})=>{let s=b.useRef(null);b.useEffect(()=>{if(!s.current||!t)return;let o=ve({ref:s.current,onClose:n,doNotClose:a=>{var l;return(l=s.current)==null?void 0:l.contains(a)}});return()=>{o()}},[t]);let i=o=>{r(o),n()};return c(Oe,{className:mt.container,isOpen:t,selector:"#shapes",toggle:n,children:c("div",{ref:s,className:mt.shape,children:Pe.map(({label:o,svg:a},l)=>P(b.Fragment,{children:[c("button",{id:`shape-${l}`,onClick:()=>i(l),children:a}),c(Te,{selector:`#shape-${l}`,placement:"bottom",children:o})]},l))})})},Gn="_container_xh1kp_1",Vn="_bg_xh1kp_6",Fn="_active_xh1kp_30",We={container:Gn,bg:Vn,active:Fn},Hn=({background:e,isOpen:t,toggle:n,onSelectBackGround:r})=>{let s=b.useRef(null);b.useEffect(()=>{if(!s.current||!t)return;let o=ve({ref:s.current,onClose:n,doNotClose:a=>{var l;return(l=s.current)==null?void 0:l.contains(a)}});return()=>{o()}},[t]);let i=o=>{r(o),n()};return c(Oe,{className:We.container,isOpen:t,selector:"#backgrounds",placement:"bottom-start",toggle:n,children:c("div",{ref:s,className:We.bg,children:$n.map(({label:o,bgCode:a},l)=>{let d=e===a;return P(b.Fragment,{children:[c("button",{id:`background-${l}`,onClick:()=>i(a),className:d?We.active:void 0,style:{"--bg":`url(${ce(`/background-icon/${a}.svg`)})`},children:d&&c("img",{src:ce("/check.svg")})}),c(Te,{selector:`#background-${l}`,placement:"bottom",children:o})]},l)})})})},Wn="_container_1xzpo_1",Yn="_color_1xzpo_6",jn="_active_1xzpo_18",Ye={container:Wn,color:Yn,active:jn},gt=({id:e,isOpen:t,color:n,toggle:r,onSelectColor:s})=>{let i=b.useRef(null);b.useEffect(()=>{if(!i.current||!t)return;let a=ve({ref:i.current,onClose:r,doNotClose:l=>{var d;return(d=i.current)==null?void 0:d.contains(l)}});return()=>{a()}},[t]);let o=a=>{s(a),r()};return c(Oe,{id:`${e}-dropdown`,className:Ye.container,isOpen:t,selector:`#${e}`,placement:"bottom-start",toggle:r,children:c("div",{ref:i,className:Ye.color,children:Ae.map(({label:a,colorCode:l,lightColorCode:d},h)=>{let f=e==="background"?d:l,v=f===n?Ye.active:void 0;return P(b.Fragment,{children:[c("button",{id:`${e}-${h}`,className:v,onClick:()=>o(f),children:c("span",{style:{backgroundColor:f}})}),c(Te,{selector:`#${e}-${h}`,placement:"bottom",children:a})]},h)})})})},Xn="_container_8wfdu_1",qn="_active_8wfdu_29",Zn="_toolbar_8wfdu_54",Un="_zoom_in_8wfdu_65",Kn="_zoom_out_8wfdu_66",Jn="_redo_8wfdu_69",Qn="_undo_8wfdu_70",er="_background_btn_8wfdu_86",tr="_clear_btn_8wfdu_87",nr="_separator_8wfdu_90",rr="_color_btn_8wfdu_95",U={container:Xn,active:qn,toolbar:Zn,zoom_in:Un,zoom_out:Kn,redo:Jn,undo:Qn,background_btn:er,clear_btn:tr,separator:nr,color_btn:rr},ir=({tool:e,sketch:t,shape:n,sketchColor:r,slideBackGround:s,borderColor:i,backgroundColor:o,selectedShapeId:a,onClearSlide:l,onSelectTool:d,onSelectShape:h,onSelectSketch:f,onSelectSketchColor:v,onSelectBackGround:p,onSelectBorderColor:u,onSelectBackGroundColor:g})=>{let[w,m]=b.useState(!1),[S,T]=b.useState(!1),[y,k]=b.useState(!1),[M,A]=b.useState(!1),[E,D]=b.useState(!1),O=()=>{k(!y)},x=()=>{m(!w)},_=()=>{T(!S)},$=()=>{D(!E)},B=()=>{A(!M)},I=(N,j)=>{(j==="shape"||j==="sketch")&&e===N&&(j==="shape"?x():j==="sketch"&&_()),e!==N&&d(N)};return P(b.Fragment,{children:[P("div",{className:U.toolbar,children:[c("button",{className:U.redo,disabled:!0,children:c("i",{className:"bx-undo"})}),c("button",{className:U.undo,disabled:!0,children:c("i",{className:"bx-redo"})}),c("div",{className:U.separator}),c("button",{className:U.zoom_out,children:c("i",{className:"bx-zoom-out"})}),c("button",{className:U.zoom_in,children:c("i",{className:"bx-zoom-in"})}),c("div",{className:U.separator}),e!==4&&e!==5&&!a&&P(b.Fragment,{children:[c("button",{id:"backgrounds",className:U.background_btn,onClick:O,children:"Set background"}),c("div",{className:U.separator}),c("button",{className:U.clear_btn,onClick:l,children:"Clear frame"})]}),(e===4||a)&&P("div",{className:U.color_btn,children:[c("button",{id:"border",onClick:B,style:{"--bg":i},children:c("i",{className:"bxs-pencil"})}),c("button",{id:"background",onClick:$,style:{"--bg":o},children:c("i",{className:"bxs-color-fill"})})]})]}),c("div",{className:U.container,children:kn.map(({label:N,svg:j},H)=>{let G=N==="shape"?Pe[n].svg:N==="sketch"?ht[t].svg:j,V=N==="shape"?Pe[n].label:N==="sketch"?ht[t].label:N,Z=H===e?U.active:void 0,ae=N==="shape"?"shapes":N==="sketch"?"sketches":`toolbar-${H}`,oe=N==="sketch"?Ae[r].colorCode:void 0;return P(b.Fragment,{children:[P("button",{id:ae,className:Z,onClick:()=>I(H,N),style:{"--bgColor":oe},children:[G,(N==="shape"||N==="sketch")&&c("i",{className:"bxs-right-arrow"})]}),c(Te,{selector:`#toolbar-${H}`,placement:"right",children:V})]},H)})}),w&&c(Rn,{isOpen:w,shape:n,toggle:x,onSelectShape:h}),S&&c(On,{isOpen:S,sketch:t,sketchColor:r,toggle:_,onSelectSketch:f,onSelectSketchColor:v}),y&&c(Hn,{isOpen:y,background:s,toggle:O,onSelectBackGround:p}),M&&c(gt,{id:"border",isOpen:M,color:i,toggle:B,onSelectColor:N=>u("borderColor",N)}),E&&c(gt,{id:"background",isOpen:E,color:o,toggle:$,onSelectColor:N=>g("backgroundColor",N)})]})},sr="_sketch_board_1qh03_1",lr={sketch_board:sr},ar=({tool:e,sketch:t,sketchColor:n,canvas:r,dimension:s,isActiveSlide:i=!1,onUpdateCanvas:o})=>{let a=b.useRef(null),l=b.useRef(null),d=b.useRef(null);b.useEffect(()=>{r.image&&p()},[]),b.useEffect(()=>{if(!a.current)return;l.current=a.current.getContext("2d");let g=document.querySelector(`[mini-canvas='${r._id}']`);g&&(d.current=g.getContext("2d"))},[]),b.useEffect(()=>{l.current.strokeStyle=e===6?"#FF3131":Ae[n].colorCode,l.current.lineWidth=5,l.current.lineCap="round",l.current.lineJoin="round"},[n,e]);let h=({pageX:g,pageY:w})=>{if(!a.current||!l.current)return;let{left:m,top:S,width:T,height:y}=a.current.getBoundingClientRect(),k=s.width/T,M=s.height/y,A=(g-m)*k,E=(w-S)*M;l.current.beginPath(),l.current.moveTo(A,E),d.current&&(d.current.beginPath(),d.current.moveTo(A,E)),window.addEventListener("mousemove",f),window.addEventListener("mouseup",v,{once:!0})},f=({x:g,y:w})=>{if(!a.current||!l.current)return;let{left:m,top:S,width:T,height:y}=a.current.getBoundingClientRect(),k=s.width/T,M=s.height/y,A=(g-m)*k,E=(w-S)*M;e===0||e==6?(l.current.lineTo(A,E),l.current.stroke(),d.current&&(d.current.lineTo(A,E),d.current.stroke())):e===1&&(l.current.clearRect(A,E,20,20),d.current&&d.current.clearRect(A,E,20,20))},v=()=>{a.current&&(window.removeEventListener("mousemove",f),a.current.toBlob(g=>{g&&o(r._id,g)},"image/png"))},p=()=>{let g=new Image;g.src=`data:image/png;base64,${r.image}`,g.onload=()=>{l.current&&(l.current.drawImage(g,0,0),d.current&&d.current.drawImage(g,0,0))}},u=g=>{[0,1,6].includes(e)&&g.preventDefault()};return c("canvas",{ref:a,className:lr.sketch_board,width:s.width,height:s.height,"data-canvas":r._id,style:{pointerEvents:[0,1,6].includes(e)?"auto":"none"},onContextMenu:u,...[0,1,6].includes(e)&&i&&{onMouseDown:h}})},kt=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("ellipse",{cx:e/2,cy:t/2,rx:e/3,ry:t/3,style:{stroke:n,fill:r}})}),$t=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("path",{d:`M${e/2} ${t} L${e/2} ${t} L0 ${t/2} L${e/2} 0 L${e} ${t/2} Z`,style:{stroke:n,fill:r}})}),It=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("path",{d:`M0 0 L0 0 L0 ${t} L${e} ${t} L${e} 0 Z`,style:{stroke:n,fill:r}})}),Pt=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("path",{d:`M0 0 L0 0 L0 ${t} L${e} ${t} L${e} 0 Z`,style:{stroke:n,fill:r}})}),zt=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("path",{d:`M${e} ${t} L${e} ${t} L0 ${t} L${e/2} 0 Z`,style:{stroke:n,fill:r}})}),Nt=({width:e,height:t,borderColor:n,backgroundColor:r})=>c("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:c("path",{d:`M${e} ${t/2} L${e} ${t/2} L${e/2} 0 L${e/2} ${t/6} L0 ${t/6} L0 ${t-t/6} L${e/2} ${t-t/6} L${e/2} ${t} Z`,style:{stroke:n,fill:r}})}),or="_container_sn6cp_1",dr={container:or},Ot=({text:e,...t})=>c("div",{className:dr.container,...t,children:c("h2",{children:e})}),cr="_field_ak0ir_1",ur={field:cr},At=({readOnly:e,...t})=>{let n=b.useRef(null);return b.useEffect(()=>{!n.current||e||n.current.focus()},[e]),c("textarea",{ref:n,className:ur.field,readOnly:e,...t})},fr="_container_1pia0_1",pr="_top_start_1pia0_37",hr="_bottom_start_1pia0_38",mr="_bottom_end_1pia0_39",gr="_top_1pia0_37",vr="_bottom_1pia0_38",wr="_left_1pia0_54",br="_right_1pia0_55",Sr="_top_end_1pia0_83",xr="_shape_dropdown_1pia0_103",ee={container:fr,top_start:pr,bottom_start:hr,bottom_end:mr,top:gr,bottom:vr,left:wr,right:br,top_end:Sr,shape_dropdown:xr},_r=({shapeId:e,shapeProps:t,shapeRef:n,onClose:r,onMouseDown:s,onReset:i,onDeleteShape:o,onEditStickyNote:a})=>{let l=b.useRef(null);b.useEffect(()=>{if(!n)return;let u=ve({ref:n,onClose:r,doNotClose:g=>{if(!l.current||!n)return;let m=[...document.querySelectorAll("#border,#background,#border-dropdown,#background-dropdown,#edit-sticky-note")].some(S=>S.contains(g));return l.current.contains(g)||n.contains(g)||m}});return()=>{u(),i()}},[n]);let{width:d,height:h,translateX:f,translateY:v,rotate:p}=t;return P(b.Fragment,{children:[P("div",{ref:l,className:ee.container,style:{width:`${d+30}px`,height:`${h+30}px`,transform:`translate(${f}px, ${v}px) rotate(${p}deg)`},children:[c("button",{className:ee.top_start,onMouseDown:u=>s(u,"rotate"),children:c("img",{src:ce("/rotate.svg"),alt:"",draggable:!1})}),c("button",{className:ee.top,onMouseDown:u=>s(u,"top")}),c("button",{"shape-dropdown":e,className:ee.top_end,children:c("i",{className:"bx-dots-vertical-rounded"})}),c("button",{className:ee.left,onMouseDown:u=>s(u,"left")}),c("button",{className:ee.right,onMouseDown:u=>s(u,"right")}),c("button",{className:ee.bottom_start,onMouseDown:u=>s(u,"bottom-start")}),c("button",{className:ee.bottom,onMouseDown:u=>s(u,"bottom")}),c("button",{className:ee.bottom_end,onMouseDown:u=>s(u,"bottom-end")})]}),P(_e,{selector:`[shape-dropdown='${e}']`,className:ee.shape_dropdown,placement:"bottom",children:[typeof a=="function"&&P(_e.Item,{id:"edit-sticky-note",onClick:a,children:[c("i",{className:"bx-edit"}),c("span",{children:"Edit"})]}),P(_e.Item,{onClick:()=>o(e),children:[c("i",{className:"bx-trash"}),c("span",{children:"Delete"})]})]})]})},Cr="_container_1igfo_1",yr="_overlay_1igfo_7",Qe={container:Cr,overlay:yr},Tr=({shape:e,selectedShapeId:t,onClick:n,onBlur:r,onUpdateShape:s,onDeleteShape:i,onEditStickyNote:o})=>{let[a,l]=b.useState(null),[d,h]=b.useState(!0),[f,v]=b.useState(null),p=b.useRef(null),u=cn(O=>s(O),1e3);b.useEffect(()=>{l(e.props)},[e.props]);let g=({target:{value:O,scrollHeight:x}})=>{if(!a)return;let _={...a,height:x,text:O};u({_id:e._id,props:_}),l(_)},w=b.useMemo(()=>{if(!a)return null;let{width:O,height:x,borderColor:_,backgroundColor:$,text:B}=a;switch(e.type){case"sticky-note":return c(Ot,{text:B,style:{backgroundColor:$}});case"text-box":return c(At,{defaultValue:B,readOnly:d,onChange:g});case"arrow":return c(Nt,{width:O,height:x,borderColor:_,backgroundColor:$});case"circle":return c(kt,{width:O,height:x,borderColor:_,backgroundColor:$});case"diamond":return c($t,{width:O,height:x,borderColor:_,backgroundColor:$});case"rectangle":return c(It,{width:O,height:x,borderColor:_,backgroundColor:$});case"square":return c(Pt,{width:O,height:x,borderColor:_,backgroundColor:$});case"triangle":return c(zt,{width:O,height:x,borderColor:_,backgroundColor:$});default:return null}},[e.type,a==null?void 0:a.width,a==null?void 0:a.height,a==null?void 0:a.backgroundColor,a==null?void 0:a.borderColor,a==null?void 0:a.color,a==null?void 0:a.text,d]),m=({cx:O,cy:x,ex:_,ey:$})=>{let B=$-x,I=_-O;return Math.atan2(B,I)*180/Math.PI},S=({x:O,y:x})=>{if(!a||!p.current||!f)return;let{pageX:_,pageY:$,type:B}=p.current,I={...a},{width:N,height:j}=f.parentElement.getBoundingClientRect(),{clientWidth:H,clientHeight:G}=f.parentElement,V=H/N,Z=G/j;switch(B){case"move":I.translateX+=(O-_)*V,I.translateY+=(x-$)*Z;break;case"rotate":let{left:ae,top:oe,width:De,height:Be}=f.getBoundingClientRect(),we=ae+De/2,Re=oe+Be/2;I.rotate=90+m({cx:O,cy:x,ex:we,ey:Re});break;case"left":I.translateX+=(O-_)*V,I.width+=-(O-_)*V;break;case"right":I.width+=(O-_)*V;break;case"bottom":I.height+=(x-$)*Z;break;case"top":I.translateY+=(x-$)*Z,I.height+=-(x-$)*Z;break;case"bottom-start":I.translateX+=(O-_)*V,I.width+=-(O-_)*V,I.height+=(x-$)*Z;break;case"bottom-end":I.width+=(O-_)*V,I.height+=(x-$)*Z;break;default:return}B==="move"?(I.translateX=Math.max(0,Math.min(H-I.width,I.translateX)),I.translateY=Math.max(0,Math.min(G-I.height,I.translateY))):(I.width=Math.min(H-I.translateX,Math.max(125,I.width)),I.height=Math.min(G-I.translateY,Math.max(125,I.height))),l(I)},T=()=>{window.removeEventListener("mouseup",k),window.removeEventListener("mousemove",S)},y=()=>{window.addEventListener("mouseup",k),window.addEventListener("mousemove",S)},k=()=>{T(),p.current=null,l(O=>(O&&s({_id:e._id,props:O}),O))},M=(O,x)=>{O.stopPropagation();let{pageX:_,pageY:$}=O;p.current={type:x,pageX:_,pageY:$},y()},A=()=>{(e.type==="sticky-note"||e.type==="text-box")&&h(!1)},E=()=>{n(e._id)},D=()=>{d||h(!0)};return a?P(b.Fragment,{children:[P("div",{ref:v,className:Qe.container,onClick:E,style:{width:`${a.width}px`,height:`${a.height}px`,transform:`translate(${a.translateX}px, ${a.translateY}px) rotate( ${a.rotate}deg)`},children:[w,e._id===t&&c("div",{className:Qe.overlay,onDoubleClick:A,onMouseDown:O=>M(O,"move"),style:{cursor:d?"move":"default",pointerEvents:d?"auto":"none"}})]}),e._id===t&&c(_r,{shapeId:e._id,shapeProps:a,shapeRef:f,onClose:r,onMouseDown:M,onReset:D,onDeleteShape:i,...typeof o=="function"&&{onEditStickyNote:o}})]}):null},Dt=({shape:e})=>{let[t,n]=b.useState(null);b.useEffect(()=>{n(e.props)},[e.props]);let r=b.useMemo(()=>{if(!t)return null;let{width:s,height:i,backgroundColor:o,borderColor:a,text:l}=t;switch(e.type){case"sticky-note":return c(Ot,{text:l,style:{backgroundColor:o}});case"text-box":return c(At,{defaultValue:l,readOnly:!0});case"arrow":return c(Nt,{width:s,height:i,borderColor:a,backgroundColor:o});case"circle":return c(kt,{width:s,height:i,borderColor:a,backgroundColor:o});case"diamond":return c($t,{width:s,height:i,borderColor:a,backgroundColor:o});case"rectangle":return c(It,{width:s,height:i,borderColor:a,backgroundColor:o});case"square":return c(Pt,{width:s,height:i,borderColor:a,backgroundColor:o});case"triangle":return c(zt,{width:s,height:i,borderColor:a,backgroundColor:o});default:return null}},[e.type,t==null?void 0:t.width,t==null?void 0:t.height,t==null?void 0:t.backgroundColor,t==null?void 0:t.borderColor,t==null?void 0:t.text]);return t?c("div",{className:Qe.container,style:{width:`${t.width}px`,height:`${t.height}px`,transform:`translate(${t.translateX}px, ${t.translateY}px) rotate(${t.rotate}deg)`},children:r}):null};function vt(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function at(e={},t={}){Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:vt(t[n])&&vt(e[n])&&Object.keys(t[n]).length>0&&at(e[n],t[n])})}const Bt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function fe(){const e=typeof document<"u"?document:{};return at(e,Bt),e}const Er={document:Bt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function J(){const e=typeof window<"u"?window:{};return at(e,Er),e}function Lr(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function et(e,t=0){return setTimeout(e,t)}function ze(){return Date.now()}function Mr(e){const t=J();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function kr(e,t="x"){const n=J();let r,s,i;const o=Mr(e);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Me(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function $r(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function K(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const s=e[r];if(s!=null&&!$r(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],d=Object.getOwnPropertyDescriptor(s,l);d!==void 0&&d.enumerable&&(Me(t[l])&&Me(s[l])?s[l].__swiper__?t[l]=s[l]:K(t[l],s[l]):!Me(t[l])&&Me(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:K(t[l],s[l])):t[l]=s[l])}}}return t}function ke(e,t,n){e.style.setProperty(t,n)}function Rt({swiper:e,targetPosition:t,side:n}){const r=J(),s=-e.translate;let i=null,o;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",d=(f,v)=>l==="next"&&f>=v||l==="prev"&&f<=v,h=()=>{o=new Date().getTime(),i===null&&(i=o);const f=Math.max(Math.min((o-i)/a,1),0),v=.5-Math.cos(f*Math.PI)/2;let p=s+v*(t-s);if(d(p,t)&&(p=t),e.wrapperEl.scrollTo({[n]:p}),d(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function te(e,t=""){return[...e.children].filter(n=>n.matches(t))}function Gt(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:[t]),n}function Ir(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function Pr(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function ie(e,t){return J().getComputedStyle(e,null).getPropertyValue(t)}function wt(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function zr(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function bt(e,t,n){const r=J();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let je;function Nr(){const e=J(),t=fe();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function Vt(){return je||(je=Nr()),je}let Xe;function Or({userAgent:e}={}){const t=Vt(),n=J(),r=n.navigator.platform,s=e||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=r==="Win32";let p=r==="MacIntel";const u=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&p&&t.touch&&u.indexOf(`${o}x${a}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),p=!1),l&&!v&&(i.os="android",i.android=!0),(d||f||h)&&(i.os="ios",i.ios=!0),i}function Ar(e={}){return Xe||(Xe=Or(e)),Xe}let qe;function Dr(){const e=J();let t=!1;function n(){const r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[s,i]=r.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));t=s<16||s===16&&i<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function Br(){return qe||(qe=Dr()),qe}function Rr({swiper:e,on:t,emit:n}){const r=J();let s=null,i=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},a=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{i=r.requestAnimationFrame(()=>{const{width:f,height:v}=e;let p=f,u=v;h.forEach(({contentBoxSize:g,contentRect:w,target:m})=>{m&&m!==e.el||(p=w?w.width:(g[0]||g).inlineSize,u=w?w.height:(g[0]||g).blockSize)}),(p!==f||u!==v)&&o()})}),s.observe(e.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",d)}),t("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",d)})}function Gr({swiper:e,extendParams:t,on:n,emit:r}){const s=[],i=J(),o=(d,h={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,v=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){r("observerUpdate",p[0]);return}const u=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(u):i.setTimeout(u,0)});v.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(v)},a=()=>{if(e.params.observer){if(e.params.observeParents){const d=zr(e.el);for(let h=0;h<d.length;h+=1)o(d[h])}o(e.el,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const Vr={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const s=n?"unshift":"push";return e.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function s(...i){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(r,i)}return s.__emitterProxy=t,r.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,r,s;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),s=t):(n=e[0].events,r=e[0].data,s=e[0].context||t),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),t}};function Fr(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(ie(r,"padding-left")||0,10)-parseInt(ie(r,"padding-right")||0,10),n=n-parseInt(ie(r,"padding-top")||0,10)-parseInt(ie(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function Hr(){const e=this;function t(x){return e.isHorizontal()?x:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[x]}function n(x,_){return parseFloat(x.getPropertyValue(t(_))||0)}const r=e.params,{wrapperEl:s,slidesEl:i,size:o,rtlTranslate:a,wrongRTL:l}=e,d=e.virtual&&r.virtual.enabled,h=d?e.virtual.slides.length:e.slides.length,f=te(i,`.${e.params.slideClass}, swiper-slide`),v=d?e.virtual.slides.length:f.length;let p=[];const u=[],g=[];let w=r.slidesOffsetBefore;typeof w=="function"&&(w=r.slidesOffsetBefore.call(e));let m=r.slidesOffsetAfter;typeof m=="function"&&(m=r.slidesOffsetAfter.call(e));const S=e.snapGrid.length,T=e.slidesGrid.length;let y=r.spaceBetween,k=-w,M=0,A=0;if(typeof o>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*o),e.virtualSize=-y,f.forEach(x=>{a?x.style.marginLeft="":x.style.marginRight="",x.style.marginBottom="",x.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(ke(s,"--swiper-centered-offset-before",""),ke(s,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&e.grid;E&&e.grid.initSlides(v);let D;const O=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(x=>typeof r.breakpoints[x].slidesPerView<"u").length>0;for(let x=0;x<v;x+=1){D=0;let _;if(f[x]&&(_=f[x]),E&&e.grid.updateSlide(x,_,v,t),!(f[x]&&ie(_,"display")==="none")){if(r.slidesPerView==="auto"){O&&(f[x].style[t("width")]="");const $=getComputedStyle(_),B=_.style.transform,I=_.style.webkitTransform;if(B&&(_.style.transform="none"),I&&(_.style.webkitTransform="none"),r.roundLengths)D=e.isHorizontal()?bt(_,"width",!0):bt(_,"height",!0);else{const N=n($,"width"),j=n($,"padding-left"),H=n($,"padding-right"),G=n($,"margin-left"),V=n($,"margin-right"),Z=$.getPropertyValue("box-sizing");if(Z&&Z==="border-box")D=N+G+V;else{const{clientWidth:ae,offsetWidth:oe}=_;D=N+j+H+G+V+(oe-ae)}}B&&(_.style.transform=B),I&&(_.style.webkitTransform=I),r.roundLengths&&(D=Math.floor(D))}else D=(o-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(D=Math.floor(D)),f[x]&&(f[x].style[t("width")]=`${D}px`);f[x]&&(f[x].swiperSlideSize=D),g.push(D),r.centeredSlides?(k=k+D/2+M/2+y,M===0&&x!==0&&(k=k-o/2-y),x===0&&(k=k-o/2-y),Math.abs(k)<1/1e3&&(k=0),r.roundLengths&&(k=Math.floor(k)),A%r.slidesPerGroup===0&&p.push(k),u.push(k)):(r.roundLengths&&(k=Math.floor(k)),(A-Math.min(e.params.slidesPerGroupSkip,A))%e.params.slidesPerGroup===0&&p.push(k),u.push(k),k=k+D+y),e.virtualSize+=D+y,M=D,A+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+m,a&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(s.style.width=`${e.virtualSize+r.spaceBetween}px`),r.setWrapperSize&&(s.style[t("width")]=`${e.virtualSize+r.spaceBetween}px`),E&&e.grid.updateWrapperSize(D,p,t),!r.centeredSlides){const x=[];for(let _=0;_<p.length;_+=1){let $=p[_];r.roundLengths&&($=Math.floor($)),p[_]<=e.virtualSize-o&&x.push($)}p=x,Math.floor(e.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-o)}if(d&&r.loop){const x=g[0]+y;if(r.slidesPerGroup>1){const _=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),$=x*r.slidesPerGroup;for(let B=0;B<_;B+=1)p.push(p[p.length-1]+$)}for(let _=0;_<e.virtual.slidesBefore+e.virtual.slidesAfter;_+=1)r.slidesPerGroup===1&&p.push(p[p.length-1]+x),u.push(u[u.length-1]+x),e.virtualSize+=x}if(p.length===0&&(p=[0]),r.spaceBetween!==0){const x=e.isHorizontal()&&a?"marginLeft":t("marginRight");f.filter((_,$)=>!r.cssMode||r.loop?!0:$!==f.length-1).forEach(_=>{_.style[x]=`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let x=0;g.forEach($=>{x+=$+(r.spaceBetween?r.spaceBetween:0)}),x-=r.spaceBetween;const _=x-o;p=p.map($=>$<0?-w:$>_?_+m:$)}if(r.centerInsufficientSlides){let x=0;if(g.forEach(_=>{x+=_+(r.spaceBetween?r.spaceBetween:0)}),x-=r.spaceBetween,x<o){const _=(o-x)/2;p.forEach(($,B)=>{p[B]=$-_}),u.forEach(($,B)=>{u[B]=$+_})}}if(Object.assign(e,{slides:f,snapGrid:p,slidesGrid:u,slidesSizesGrid:g}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ke(s,"--swiper-centered-offset-before",`${-p[0]}px`),ke(s,"--swiper-centered-offset-after",`${e.size/2-g[g.length-1]/2}px`);const x=-e.snapGrid[0],_=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map($=>$+x),e.slidesGrid=e.slidesGrid.map($=>$+_)}if(v!==h&&e.emit("slidesLengthChange"),p.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),u.length!==T&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!d&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const x=`${r.containerModifierClass}backface-hidden`,_=e.el.classList.contains(x);v<=r.maxBackfaceHiddenSlides?_||e.el.classList.add(x):_&&e.el.classList.remove(x)}}function Wr(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=a=>r?t.getSlideIndexByData(a):t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const a=t.activeIndex+i;if(a>t.slides.length&&!r)break;n.push(o(a))}else n.push(o(t.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function Yr(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n}function jr(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:s,snapGrid:i}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),r.forEach(a=>{a.classList.remove(n.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let d=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?t.minTranslate():0)-d)/(l.swiperSlideSize+n.spaceBetween),f=(o-i[0]+(n.centeredSlides?t.minTranslate():0)-d)/(l.swiperSlideSize+n.spaceBetween),v=-(o-d),p=v+t.slidesSizesGrid[a];(v>=0&&v<t.size-1||p>1&&p<=t.size||v<=0&&p>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(a),r[a].classList.add(n.slideVisibleClass)),l.progress=s?-h:h,l.originalProgress=s?-f:f}}function Xr(e){const t=this;if(typeof e>"u"){const h=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*h||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=t;const l=i,d=o;if(r===0)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/r;const h=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;i=h||s<=0,o=f||s>=1,h&&(s=0),f&&(s=1)}if(n.loop){const h=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[h],p=t.slidesGrid[f],u=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(e);g>=v?a=(g-v)/u:a=(g+u-p)/u,a>1&&(a-=1)}Object.assign(t,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(l&&!i||d&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}function qr(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:s}=e,i=e.virtual&&n.virtual.enabled,o=l=>te(r,`.${n.slideClass}${l}, swiper-slide${l}`)[0];t.forEach(l=>{l.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let a;if(i)if(n.loop){let l=s-e.virtual.slidesBefore;l<0&&(l=e.virtual.slides.length+l),l>=e.virtual.slides.length&&(l-=e.virtual.slides.length),a=o(`[data-swiper-slide-index="${l}"]`)}else a=o(`[data-swiper-slide-index="${s}"]`);else a=t[s];if(a){a.classList.add(n.slideActiveClass);let l=Pr(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!l&&(l=t[0]),l&&l.classList.add(n.slideNextClass);let d=Ir(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!d===0&&(d=t[t.length-1]),d&&d.classList.add(n.slidePrevClass)}e.emitSlidesClasses()}const Ie=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){const s=r.querySelector(`.${e.params.lazyPreloaderClass}`);s&&s.remove()}},St=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},tt=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex,i=s+r-1;if(e.params.rewind)for(let o=s-t;o<=i+t;o+=1){const a=(o%n+n)%n;a!==s&&a>i&&St(e,a)}else for(let o=Math.max(i-t,0);o<=Math.min(i+t,n-1);o+=1)o!==s&&o>i&&St(e,o)};function Zr(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?r>=t[i]&&r<t[i+1]-(t[i+1]-t[i])/2?s=i:r>=t[i]&&r<t[i+1]&&(s=i+1):r>=t[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function Ur(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:a}=t;let l=e,d;const h=v=>{let p=v-t.virtual.slidesBefore;return p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),p};if(typeof l>"u"&&(l=Zr(t)),r.indexOf(n)>=0)d=r.indexOf(n);else{const v=Math.min(s.slidesPerGroupSkip,l);d=v+Math.floor((l-v)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),l===i){d!==a&&(t.snapIndex=d,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=h(l));return}let f;t.virtual&&s.virtual.enabled&&s.loop?f=h(l):t.slides[l]?f=parseInt(t.slides[l].getAttribute("data-swiper-slide-index")||l,10):f=l,Object.assign(t,{snapIndex:d,realIndex:f,previousIndex:i,activeIndex:l}),t.initialized&&tt(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==f&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function Kr(e){const t=this,n=t.params,r=e.closest(`.${n.slideClass}, swiper-slide`);let s=!1,i;if(r){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===r){s=!0,i=o;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=i;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const Jr={updateSize:Fr,updateSlides:Hr,updateAutoHeight:Wr,updateSlidesOffset:Yr,updateSlidesProgress:jr,updateProgress:Xr,updateSlidesClasses:qr,updateActiveIndex:Ur,updateClickedSlide:Kr};function Qr(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=t;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=kr(i,e);return r&&(o=-o),o||0}function ei(e,t){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let a=0,l=0;const d=0;n.isHorizontal()?a=r?-e:e:l=e,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(i.style.transform=`translate3d(${a}px, ${l}px, ${d}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(e-n.minTranslate())/f,h!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function ti(){return-this.snapGrid[0]}function ni(){return-this.snapGrid[this.snapGrid.length-1]}function ri(e=0,t=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),d=i.maxTranslate();let h;if(r&&e>l?h=l:r&&e<d?h=d:h=e,i.updateProgress(h),o.cssMode){const f=i.isHorizontal();if(t===0)a[f?"scrollLeft":"scrollTop"]=-h;else{if(!i.support.smoothScroll)return Rt({swiper:i,targetPosition:-h,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-h,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(h),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(h),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(v){!i||i.destroyed||v.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}const ii={getTranslate:Qr,setTranslate:ei,minTranslate:ti,maxTranslate:ni,translateTo:ri};function si(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`),n.emit("setTransition",e,t)}function Ft({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=e;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),e.emit(`transition${r}`),t&&s!==i){if(o==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),o==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function li(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Ft({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function ai(e=!0,t){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Ft({swiper:n,runCallbacks:e,direction:t,step:"End"}))}const oi={setTransition:si,transitionStart:li,transitionEnd:ai};function di(e=0,t=this.params.speed,n=!0,r,s){typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:d,previousIndex:h,activeIndex:f,rtlTranslate:v,wrapperEl:p,enabled:u}=i;if(i.animating&&a.preventInteractionOnTransition||!u&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let w=g+Math.floor((o-g)/i.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const m=-l[w];if(a.normalizeSlideIndex)for(let T=0;T<d.length;T+=1){const y=-Math.floor(m*100),k=Math.floor(d[T]*100),M=Math.floor(d[T+1]*100);typeof d[T+1]<"u"?y>=k&&y<M-(M-k)/2?o=T:y>=k&&y<M&&(o=T+1):y>=k&&(o=T)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&m<i.translate&&m<i.minTranslate()||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(f||0)!==o))return!1;o!==(h||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let S;if(o>f?S="next":o<f?S="prev":S="reset",v&&-m===i.translate||!v&&m===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(m),S!=="reset"&&(i.transitionStart(n,S),i.transitionEnd(n,S)),!1;if(a.cssMode){const T=i.isHorizontal(),y=v?m:-m;if(t===0){const k=i.virtual&&i.params.virtual.enabled;k&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),k&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[T?"scrollLeft":"scrollTop"]=y})):p[T?"scrollLeft":"scrollTop"]=y,k&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return Rt({swiper:i,targetPosition:y,side:T?"left":"top"}),!0;p.scrollTo({[T?"left":"top"]:y,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,S),t===0?i.transitionEnd(n,S):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(y){!i||i.destroyed||y.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,S))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function ci(e=0,t=this.params.speed,n=!0,r){typeof e=="string"&&(e=parseInt(e,10));const s=this;let i=e;return s.params.loop&&(s.virtual&&s.params.virtual.enabled?i=i+s.virtual.slidesBefore:i=s.getSlideIndexByData(i)),s.slideTo(i,t,n,r)}function ui(e=this.params.speed,t=!0,n){const r=this,{enabled:s,params:i,animating:o}=r;if(!s)return r;let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:a,d=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)}function fi(e=this.params.speed,t=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:l,animating:d}=r;if(!l)return r;const h=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!h&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function v(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=v(f),u=i.map(m=>v(m));let g=i[u.indexOf(p)-1];if(typeof g>"u"&&s.cssMode){let m;i.forEach((S,T)=>{p>=S&&(m=T)}),typeof m<"u"&&(g=i[m>0?m-1:m])}let w=0;if(typeof g<"u"&&(w=o.indexOf(g),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,e,t,n)}return r.slideTo(w,e,t,n)}function pi(e=this.params.speed,t=!0,n){const r=this;return r.slideTo(r.activeIndex,e,t,n)}function hi(e=this.params.speed,t=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const d=s.snapGrid[a],h=s.snapGrid[a+1];l-d>(h-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[a-1],h=s.snapGrid[a];l-d<=(h-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,n)}function mi(){const e=this,{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.clickedIndex,i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-r/2||s>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),s=e.getSlideIndex(te(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),et(()=>{e.slideTo(s)})):e.slideTo(s):s>e.slides.length-r?(e.loopFix(),s=e.getSlideIndex(te(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),et(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}const gi={slideTo:di,slideToLoop:ci,slideNext:ui,slidePrev:fi,slideReset:pi,slideToClosest:hi,slideToClickedSlide:mi};function vi(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;te(r,`.${n.slideClass}, swiper-slide`).forEach((i,o)=>{i.setAttribute("data-swiper-slide-index",o)}),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function wi({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:s,byController:i,byMousewheel:o}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:v}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&v.virtual.enabled){t&&(!v.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):v.centeredSlides&&a.snapIndex<v.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=d,a.allowSlideNext=h,a.emit("loopFix");return}const p=v.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(v.slidesPerView,10));let u=v.loopedSlides||p;u%v.slidesPerGroup!==0&&(u+=v.slidesPerGroup-u%v.slidesPerGroup),a.loopedSlides=u;const g=[],w=[];let m=a.activeIndex;typeof s>"u"?s=a.getSlideIndex(a.slides.filter(M=>M.classList.contains(v.slideActiveClass))[0]):m=s;const S=n==="next"||!n,T=n==="prev"||!n;let y=0,k=0;if(s<u){y=Math.max(u-s,v.slidesPerGroup);for(let M=0;M<u-s;M+=1){const A=M-Math.floor(M/l.length)*l.length;g.push(l.length-A-1)}}else if(s>a.slides.length-u*2){k=Math.max(s-(a.slides.length-u*2),v.slidesPerGroup);for(let M=0;M<k;M+=1){const A=M-Math.floor(M/l.length)*l.length;w.push(A)}}if(T&&g.forEach(M=>{f.prepend(a.slides[M])}),S&&w.forEach(M=>{f.append(a.slides[M])}),a.recalcSlides(),v.watchSlidesProgress&&a.updateSlidesOffset(),t){if(g.length>0&&T)if(typeof e>"u"){const M=a.slidesGrid[m],E=a.slidesGrid[m+y]-M;o?a.setTranslate(a.translate-E):(a.slideTo(m+y,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=E))}else r&&a.slideToLoop(e,0,!1,!0);else if(w.length>0&&S)if(typeof e>"u"){const M=a.slidesGrid[m],E=a.slidesGrid[m-k]-M;o?a.setTranslate(a.translate-E):(a.slideTo(m-k,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=E))}else a.slideToLoop(e,0,!1,!0)}if(a.allowSlidePrev=d,a.allowSlideNext=h,a.controller&&a.controller.control&&!i){const M={slideRealIndex:e,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(A=>{!A.destroyed&&A.params.loop&&A.loopFix(M)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(M)}a.emit("loopFix")}function bi(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const Si={loopCreate:vi,loopFix:wi,loopDestroy:bi};function xi(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function _i(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const Ci={setGrabCursor:xi,unsetGrabCursor:_i};function yi(e,t=this){function n(r){if(!r||r===fe()||r===J())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(e);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(t)}function Ti(e){const t=this,n=fe(),r=J(),s=t.touchEventsData;s.evCache.push(e);const{params:i,touches:o,enabled:a}=t;if(!a||!i.simulateTouch&&e.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let d=l.target;if(i.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(d)||"which"in l&&l.which===3||"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const h=!!i.noSwipingClass&&i.noSwipingClass!=="",f=e.composedPath?e.composedPath():e.path;h&&l.target&&l.target.shadowRoot&&f&&(d=f[0]);const v=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?yi(v,d):d.closest(v))){t.allowClick=!0;return}if(i.swipeHandler&&!d.closest(i.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const u=o.currentX,g=o.currentY,w=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,m=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(w&&(u<=m||u>=r.innerWidth-m))if(w==="prevent")e.preventDefault();else return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=u,o.startY=g,s.touchStartTime=ze(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let S=!0;d.matches(s.focusableElements)&&(S=!1,d.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==d&&n.activeElement.blur();const T=S&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||T)&&!d.isContentEditable&&l.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function Ei(e){const t=fe(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=r.evCache.findIndex(M=>M.pointerId===l.pointerId);d>=0&&(r.evCache[d]=l);const h=r.evCache.length>1?r.evCache[0]:l,f=h.pageX,v=h.pageY;if(l.preventedByNestedSwiper){i.startX=f,i.startY=v;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:f,startY:v,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:f,currentY:v}),r.touchStartTime=ze());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(v<i.startY&&n.translate<=n.maxTranslate()||v>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(f<i.startX&&n.translate<=n.maxTranslate()||f>i.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=f,i.currentY=v;const p=i.currentX-i.startX,u=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+u**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let M;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+u*u>=25&&(M=Math.atan2(Math.abs(u),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?M>s.touchAngle:90-M>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let g=n.isHorizontal()?p:u,w=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),w=Math.abs(w)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,w=-w);const m=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";const S=n.params.loop&&!s.cssMode;if(!r.isMoved){if(S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(M)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let T;r.isMoved&&m!==n.touchesDirection&&S&&Math.abs(g)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),T=!0),n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let y=!0,k=s.resistanceRatio;if(s.touchReleaseOnEdges&&(k=0),g>0?(S&&!T&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(y=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**k))):g<0&&(S&&!T&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(y=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**k))),y&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Li(e){const t=this,n=t.touchEventsData,r=n.evCache.findIndex(T=>T.pointerId===e.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:s,touches:i,rtlTranslate:o,slidesGrid:a,enabled:l}=t;if(!l||!s.simulateTouch&&e.pointerType==="mouse")return;let d=e;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const h=ze(),f=h-n.touchStartTime;if(t.allowClick){const T=d.path||d.composedPath&&d.composedPath();t.updateClickedSlide(T&&T[0]||d.target),t.emit("tap click",d),f<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",d)}if(n.lastClickTime=ze(),et(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(s.followFinger?v=o?t.translate:-t.translate:v=-n.currentTranslate,s.cssMode)return;if(t.params.freeMode&&s.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}let p=0,u=t.slidesSizesGrid[0];for(let T=0;T<a.length;T+=T<s.slidesPerGroupSkip?1:s.slidesPerGroup){const y=T<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof a[T+y]<"u"?v>=a[T]&&v<a[T+y]&&(p=T,u=a[T+y]-a[T]):v>=a[T]&&(p=T,u=a[a.length-1]-a[a.length-2])}let g=null,w=null;s.rewind&&(t.isBeginning?w=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const m=(v-a[p])/u,S=p<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(m>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?g:p+S):t.slideTo(p)),t.swipeDirection==="prev"&&(m>1-s.longSwipesRatio?t.slideTo(p+S):w!==null&&m<0&&Math.abs(m)>s.longSwipesRatio?t.slideTo(w):t.slideTo(p))}else{if(!s.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(d.target===t.navigation.nextEl||d.target===t.navigation.prevEl)?d.target===t.navigation.nextEl?t.slideTo(p+S):t.slideTo(p):(t.swipeDirection==="next"&&t.slideTo(g!==null?g:p+S),t.swipeDirection==="prev"&&t.slideTo(w!==null?w:p))}}let xt;function _t(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!a?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(xt),xt=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function Mi(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ki(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function $i(e){const t=this;Ie(t,e.target),t.update()}let Ct=!1;function Ii(){}const Ht=(e,t)=>{const n=fe(),{params:r,el:s,wrapperEl:i,device:o}=e,a=!!r.nested,l=t==="on"?"addEventListener":"removeEventListener",d=t;s[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",e.onClick,!0),r.cssMode&&i[l]("scroll",e.onScroll),r.updateOnWindowResize?e[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",_t,!0):e[d]("observerUpdate",_t,!0),s[l]("load",e.onLoad,{capture:!0})};function Pi(){const e=this,t=fe(),{params:n}=e;e.onTouchStart=Ti.bind(e),e.onTouchMove=Ei.bind(e),e.onTouchEnd=Li.bind(e),n.cssMode&&(e.onScroll=ki.bind(e)),e.onClick=Mi.bind(e),e.onLoad=$i.bind(e),Ct||(t.addEventListener("touchstart",Ii),Ct=!0),Ht(e,"on")}function zi(){Ht(this,"off")}const Ni={attachEvents:Pi,detachEvents:zi},yt=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function Oi(){const e=this,{realIndex:t,initialized:n,params:r,el:s}=e,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const l=(o in i?i[o]:void 0)||e.originalParams,d=yt(e,r),h=yt(e,l),f=r.enabled;d&&!h?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&h&&(s.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{const w=r[g]&&r[g].enabled,m=l[g]&&l[g].enabled;w&&!m&&e[g].disable(),!w&&m&&e[g].enable()});const v=l.direction&&l.direction!==r.direction,p=r.loop&&(l.slidesPerView!==r.slidesPerView||v);v&&n&&e.changeDirection(),K(e.params,l);const u=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!u?e.disable():!f&&u&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",l),p&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",l)}function Ai(e,t="window",n){if(!e||t==="container"&&!n)return;let r=!1;const s=J(),i=t==="window"?s.innerHeight:n.clientHeight,o=Object.keys(e).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:d}=o[a];t==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=l):d<=n.clientWidth&&(r=l)}return r||"max"}const Di={setBreakpoint:Oi,getBreakpoint:Ai};function Bi(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(t+s)}):typeof r=="string"&&n.push(t+r)}),n}function Ri(){const e=this,{classNames:t,params:n,rtl:r,el:s,device:i}=e,o=Bi(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function Gi(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}const Vi={addClasses:Ri,removeClasses:Gi};function Fi(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+r*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const Hi={checkOverflow:Fi},Tt={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Wi(e,t){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){K(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&e[s]===!0&&(e[s]={auto:!0}),!(s in e&&"enabled"in i)){K(t,r);return}e[s]===!0&&(e[s]={enabled:!0}),typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),K(t,r)}}const Ze={eventsEmitter:Vr,update:Jr,translate:ii,transition:oi,slide:gi,loop:Si,grabCursor:Ci,events:Ni,breakpoints:Di,checkOverflow:Hi,classes:Vi},Ue={};let ye=class ne{constructor(...t){let n,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[n,r]=t,r||(r={}),r=K({},r),n&&!r.el&&(r.el=n);const s=fe();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const l=[];return s.querySelectorAll(r.el).forEach(d=>{const h=K({},r,{el:d});l.push(new ne(h))}),l}const i=this;i.__swiper__=!0,i.support=Vt(),i.device=Ar({userAgent:r.userAgent}),i.browser=Br(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const o={};i.modules.forEach(l=>{l({params:r,swiper:i,extendParams:Wi(r,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const a=K({},Tt,o);return i.params=K({},a,Ue,r),i.originalParams=K({},i.params),i.passedParams=K({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(l=>{i.on(l,i.params.on[l])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getSlideIndex(t){const{slidesEl:n,params:r}=this,s=te(n,`.${r.slideClass}, swiper-slide`),i=wt(s[0]);return wt(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=te(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*t+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const s=t.getSlideClasses(r);n.push({slideEl:r,classNames:s}),t.emit("_slideClass",r,s)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:d}=r;let h=1;if(s.centeredSlides){let f=i[d].swiperSlideSize,v;for(let p=d+1;p<i.length;p+=1)i[p]&&!v&&(f+=i[p].swiperSlideSize,h+=1,f>l&&(v=!0));for(let p=d-1;p>=0;p-=1)i[p]&&!v&&(f+=i[p].swiperSlideSize,h+=1,f>l&&(v=!0))}else if(t==="current")for(let f=d+1;f<i.length;f+=1)(n?o[f]+a[f]-o[d]<l:o[f]-o[d]<l)&&(h+=1);else for(let f=d-1;f>=0;f-=1)o[d]-o[f]<l&&(h+=1);return h}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ie(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let i;t.params.freeMode&&t.params.freeMode.enabled?(s(),t.params.autoHeight&&t.updateAutoHeight()):((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?i=t.slideTo(t.slides.length-1,0,!1,!0):i=t.slideTo(t.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const r=this,s=r.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.shadowEl&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):te(r,s())[0])();return!o&&n.params.createElements&&(o=Gt("div",n.params.wrapperClass),r.append(o),te(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement?r:o,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ie(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ie(r,"direction")==="rtl"),wrongRTL:ie(o,"display")==="-webkit-box"}),!0}init(t){const n=this;return n.initialized||n.mount(t)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete?Ie(n,s):s.addEventListener("load",i=>{Ie(n,i.target)})}),tt(n),n.initialized=!0,tt(n),n.emit("init"),n.emit("afterInit")),n}destroy(t=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),t!==!1&&(r.el.swiper=null,Lr(r)),r.destroyed=!0),null}static extendDefaults(t){K(Ue,t)}static get extendedDefaults(){return Ue}static get defaults(){return Tt}static installModule(t){ne.prototype.__modules__||(ne.prototype.__modules__=[]);const n=ne.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>ne.installModule(n)),ne):(ne.installModule(t),ne)}};Object.keys(Ze).forEach(e=>{Object.keys(Ze[e]).forEach(t=>{ye.prototype[t]=Ze[e][t]})});ye.use([Rr,Gr]);function Yi(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=te(e.el,`.${r[s]}`)[0];i||(i=Gt("div",r[s]),i.className=r[s],e.el.append(i)),n[s]=i,t[s]=i}}),n}function ji({swiper:e,extendParams:t,on:n,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const s=u=>(Array.isArray(u)||(u=[u].filter(g=>!!g)),u);function i(u){let g;return u&&typeof u=="string"&&e.isElement&&(g=e.el.shadowRoot.querySelector(u),g)?g:(u&&(typeof u=="string"&&(g=[...document.querySelectorAll(u)]),e.params.uniqueNavElements&&typeof u=="string"&&g.length>1&&e.el.querySelectorAll(u).length===1&&(g=e.el.querySelector(u))),u&&!g?u:g)}function o(u,g){const w=e.params.navigation;u=s(u),u.forEach(m=>{m&&(m.classList[g?"add":"remove"](...w.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=g),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:u,prevEl:g}=e.navigation;if(e.params.loop){o(g,!1),o(u,!1);return}o(g,e.isBeginning&&!e.params.rewind),o(u,e.isEnd&&!e.params.rewind)}function l(u){u.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function d(u){u.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function h(){const u=e.params.navigation;if(e.params.navigation=Yi(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(u.nextEl||u.prevEl))return;let g=i(u.nextEl),w=i(u.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:w}),g=s(g),w=s(w);const m=(S,T)=>{S&&S.addEventListener("click",T==="next"?d:l),!e.enabled&&S&&S.classList.add(...u.lockClass.split(" "))};g.forEach(S=>m(S,"next")),w.forEach(S=>m(S,"prev"))}function f(){let{nextEl:u,prevEl:g}=e.navigation;u=s(u),g=s(g);const w=(m,S)=>{m.removeEventListener("click",S==="next"?d:l),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};u.forEach(m=>w(m,"next")),g.forEach(m=>w(m,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?p():(h(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:u,prevEl:g}=e.navigation;u=s(u),g=s(g),[...u,...g].filter(w=>!!w).forEach(w=>w.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),n("click",(u,g)=>{let{nextEl:w,prevEl:m}=e.navigation;w=s(w),m=s(m);const S=g.target;if(e.params.navigation.hideOnClick&&!m.includes(S)&&!w.includes(S)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let T;w.length?T=w[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(T=m[0].classList.contains(e.params.navigation.hiddenClass)),r(T===!0?"navigationShow":"navigationHide"),[...w,...m].filter(y=>!!y).forEach(y=>y.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:v,disable:p,update:a,init:h,destroy:f})}function ue(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function se(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:ue(t[r])&&ue(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:se(e[r],t[r]):e[r]=t[r]})}function Wt(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function Yt(e={}){return e.pagination&&typeof e.pagination.el>"u"}function jt(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function Xt(e=""){const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Xi(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const qt=["eventsPrefix","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control","injectStyles","injectStylesUrls"];function qi(e={},t=!0){const n={on:{}},r={},s={};se(n,ye.defaults),se(n,ye.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=qt.map(l=>l.replace(/_/,"")),a=Object.assign({},e);return Object.keys(a).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?ue(e[l])?(n[l]={},s[l]={},se(n[l],e[l]),se(s[l],e[l])):(n[l]=e[l],s[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?r[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:i[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function Zi({el:e,nextEl:t,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){Wt(o)&&t&&n&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),Yt(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),jt(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(e)}function Ui(e,t,n,r,s){const i=[];if(!t)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),d=n.map(s);l.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return qt.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(ue(e[l])&&ue(t[l])){const d=Object.keys(e[l]),h=Object.keys(t[l]);d.length!==h.length?o(l):(d.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}),h.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}))}else e[l]!==t[l]&&o(l)}),i}function Zt(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Ut(e){const t=[];return F.Children.toArray(e).forEach(n=>{Zt(n)?t.push(n):n.props&&n.props.children&&Ut(n.props.children).forEach(r=>t.push(r))}),t}function Ki(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return F.Children.toArray(e).forEach(r=>{if(Zt(r))t.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=Ut(r.props.children);s.length>0?s.forEach(i=>t.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:t,slots:n}}function Ji({swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:v,virtual:p,thumbs:u}=e;let g,w,m,S,T,y,k,M;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(w=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(m=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&v&&!v.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(T=!0);const A=E=>{e[E]&&(e[E].destroy(),E==="navigation"?(e.isElement&&(e[E].prevEl.remove(),e[E].nextEl.remove()),d[E].prevEl=void 0,d[E].nextEl=void 0,e[E].prevEl=void 0,e[E].nextEl=void 0):(e.isElement&&e[E].el.remove(),d[E].el=void 0,e[E].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!n.loop?y=!0:!d.loop&&n.loop?k=!0:M=!0),l.forEach(E=>{if(ue(d[E])&&ue(n[E]))se(d[E],n[E]);else{const D=n[E];(D===!0||D===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?D===!1&&A(E):d[E]=n[E]}}),l.includes("controller")&&!w&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&t&&p&&d.virtual.enabled&&(p.slides=t,p.update(!0)),r.includes("children")&&t&&d.loop&&(M=!0),g&&u.init()&&u.update(!0),w&&(e.controller.control=d.controller.control),m&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(a)),a&&(d.pagination.el=a),h.init(),h.render(),h.update()),S&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(o)),o&&(d.scrollbar.el=o),v.init(),v.updateSize(),v.setTranslate()),T&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),f.init(),f.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),(y||M)&&e.loopDestroy(),(k||M)&&e.loopCreate(),e.update()}function Qi(e,t,n){if(!n)return null;const r=h=>{let f=h;return h<0?f=t.length+h:f>=t.length&&(f=f-t.length),f},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,d=[];for(let h=a;h<l;h+=1)h>=i&&h<=o&&d.push(t[r(h)]);return d.map((h,f)=>F.cloneElement(h,{swiper:e,style:s,key:`slide-${f}`}))}const es=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Ce(e,t){return typeof window>"u"?b.useEffect(e,t):b.useLayoutEffect(e,t)}const Et=b.createContext(null),ts=b.createContext(null);function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}const Kt=b.forwardRef(function(e,t){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=e===void 0?{}:e,l=!1;const[d,h]=b.useState("swiper"),[f,v]=b.useState(null),[p,u]=b.useState(!1),g=b.useRef(!1),w=b.useRef(null),m=b.useRef(null),S=b.useRef(null),T=b.useRef(null),y=b.useRef(null),k=b.useRef(null),M=b.useRef(null),A=b.useRef(null),{params:E,passedParams:D,rest:O,events:x}=qi(a),{slides:_,slots:$}=Ki(i),B=()=>{u(!p)};Object.assign(E.on,{_containerClasses(G,V){h(V)}});const I=()=>{Object.assign(E.on,x),l=!0;const G={...E};if(delete G.wrapperClass,m.current=new ye(G),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=_;const V={cache:!1,slides:_,renderExternal:v,renderExternalUpdate:!1};se(m.current.params.virtual,V),se(m.current.originalParams.virtual,V)}};w.current||I(),m.current&&m.current.on("_beforeBreakpoint",B);const N=()=>{l||!x||!m.current||Object.keys(x).forEach(G=>{m.current.on(G,x[G])})},j=()=>{!x||!m.current||Object.keys(x).forEach(G=>{m.current.off(G,x[G])})};b.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",B)}),b.useEffect(()=>{!g.current&&m.current&&(m.current.emitSlidesClasses(),g.current=!0)}),Ce(()=>{if(t&&(t.current=w.current),!!w.current)return m.current.destroyed&&I(),Zi({el:w.current,nextEl:y.current,prevEl:k.current,paginationEl:M.current,scrollbarEl:A.current,swiper:m.current},E),o&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Ce(()=>{N();const G=Ui(D,S.current,_,T.current,V=>V.key);return S.current=D,T.current=_,G.length&&m.current&&!m.current.destroyed&&Ji({swiper:m.current,slides:_,passedParams:D,changedParams:G,nextEl:y.current,prevEl:k.current,scrollbarEl:A.current,paginationEl:M.current}),()=>{j()}}),Ce(()=>{es(m.current)},[f]);function H(){return E.virtual?Qi(m.current,_,f):_.map((G,V)=>F.cloneElement(G,{swiper:m.current,swiperSlideIndex:V}))}return F.createElement(r,nt({ref:w,className:Xt(`${d}${n?` ${n}`:""}`)},O),F.createElement(ts.Provider,{value:m.current},$["container-start"],F.createElement(s,{className:Xi(E.wrapperClass)},$["wrapper-start"],H(),$["wrapper-end"]),Wt(E)&&F.createElement(F.Fragment,null,F.createElement("div",{ref:k,className:"swiper-button-prev"}),F.createElement("div",{ref:y,className:"swiper-button-next"})),jt(E)&&F.createElement("div",{ref:A,className:"swiper-scrollbar"}),Yt(E)&&F.createElement("div",{ref:M,className:"swiper-pagination"}),$["container-end"]))});Kt.displayName="Swiper";function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}const Jt=b.forwardRef(function(e,t){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:d,...h}=e===void 0?{}:e;const f=b.useRef(null),[v,p]=b.useState("swiper-slide"),[u,g]=b.useState(!1);function w(y,k,M){k===f.current&&p(M)}Ce(()=>{if(typeof d<"u"&&(f.current.swiperSlideIndex=d),t&&(t.current=f.current),!(!f.current||!i)){if(i.destroyed){v!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",w),()=>{i&&i.off("_slideClass",w)}}}),Ce(()=>{i&&f.current&&!i.destroyed&&p(i.getSlideClasses(f.current))},[i]);const m={isActive:v.indexOf("swiper-slide-active")>=0,isVisible:v.indexOf("swiper-slide-visible")>=0,isPrev:v.indexOf("swiper-slide-prev")>=0,isNext:v.indexOf("swiper-slide-next")>=0},S=()=>typeof r=="function"?r(m):r,T=()=>{g(!0)};return F.createElement(n,rt({ref:f,className:Xt(`${v}${s?` ${s}`:""}`),"data-swiper-slide-index":l,onLoad:T},h),o&&F.createElement(Et.Provider,{value:m},F.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},S(),a&&!u&&F.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&F.createElement(Et.Provider,{value:m},S(),a&&!u&&F.createElement("div",{className:"swiper-lazy-preloader"})))});Jt.displayName="SwiperSlide";const ns="_container_8sivs_1",rs="_slide_icon_8sivs_10",is="_navigate_btn_8sivs_29",ss="_slides_8sivs_53",ls="_slide_list_8sivs_66",as="_swiper_slide_8sivs_73",os="_slide_8sivs_10",ds="_active_8sivs_86",cs="_board_8sivs_89",us="_add_btn_8sivs_118",fs="_slide_dropdown_8sivs_152",q={container:ns,slide_icon:rs,navigate_btn:is,slides:ss,slide_list:ls,swiper_slide:as,slide:os,active:ds,board:cs,add_btn:us,slide_dropdown:fs};let $e={width:224,height:126};const ps={slidesPerView:"auto",spaceBetween:10,initialSlide:0,modules:[ji],navigation:{nextEl:"#slide_next",prevEl:"#slide_prev"},style:{padding:"25px 0px"}},hs=({slides:e,activeSlide:t,activeSlideId:n,dimension:r,onSlideChange:s,onAddSlide:i,onDeleteSlide:o})=>{let[a,l]=b.useState(!1),d=b.useRef(null),h=e?e.length:1,f={width:r.width/2,height:r.height/2};b.useEffect(()=>{if(d.current)return setTimeout(()=>{a?window.addEventListener("click",v):window.removeEventListener("click",v)},0),()=>{window.removeEventListener("click",v)}},[a]);let v=w=>{if(!d.current)return;let m=w.target;d.current.contains(m)||p()},p=()=>{l(!a)},u=()=>{t!==0&&s(t-1)},g=()=>{t!==h-1&&s(t+1)};return P(b.Fragment,{children:[P("div",{className:q.container,children:[c("button",{className:q.navigate_btn,disabled:t===0,onClick:u,children:c("i",{className:"bx-chevron-left"})}),P("div",{className:q.slide_icon,onClick:p,children:[c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46",height:"36",viewBox:"0 0 46 36",children:P("g",{fill:"none",children:[c("rect",{width:"38",height:"22",x:"1",y:"7",stroke:"#3C4043",strokeWidth:"2"}),c("path",{fill:"#5F6368",d:"M8,4 L6,4 L6,0 L46,0 L46,24 L42,24 L42,22 L44,22 L44,2 L8,2 L8,4 Z"}),c("polygon",{fill:"#80868B",points:"26 33 23 36 20 33"})]})}),P("span",{children:[t+1," / ",h]})]}),c("button",{className:q.navigate_btn,disabled:t===h-1,onClick:g,children:c("i",{className:"bx-chevron-right"})})]}),P("div",{ref:d,className:q.slides,"aria-expanded":a,children:[c("button",{id:"slide_prev",className:q.navigate_btn,onClick:u,children:c("i",{className:"bx-chevron-left"})}),c("div",{className:q.slide_list,children:c(Kt,{...ps,children:e&&e.length>0&&e.map((w,m)=>P(Jt,{className:q.swiper_slide,children:[P("div",{className:`${q.slide} ${w._id===n?q.active:""}`.trim(),style:{width:`${$e.width+4}px`,height:`${$e.height+4}px`},"data-mini-slide":w._id,onClick:()=>s(m),children:[P("div",{className:q.board,style:{width:`${r.width}px`,height:`${r.height}px`,transform:`scale(${$e.width/r.width},${$e.height/r.height})`,backgroundImage:`url(${ce(`/background/${w.props.backgroundImage}`)}.png)`},children:[c("canvas",{width:f.width,height:f.height,"mini-canvas":w.canvas._id}),w.shapes&&w.shapes.map(S=>c(Dt,{shape:S},S._id))]}),c("button",{id:`slide-dropdown-${w._id}`,onClick:S=>S.stopPropagation(),children:c("i",{className:"bx-dots-vertical-rounded"})})]}),c("button",{className:q.add_btn,onClick:()=>i(m+1),children:c("i",{className:"bx-plus"})}),c(_e,{selector:`#slide-dropdown-${w._id}`,className:q.slide_dropdown,placement:"bottom",children:P(_e.Item,{onClick:()=>o(w._id),children:[c("i",{className:"bx-trash"}),c("span",{children:"Delete"})]})})]},w._id))})}),c("button",{id:"slide_next",className:q.navigate_btn,onClick:g,children:c("i",{className:"bx-chevron-right"})})]})]})},ms="_enter_ezio4_1",gs="_dialog_ezio4_1",vs="_overlay_ezio4_2",ws="_fadeIn_ezio4_1",bs="_exit_ezio4_6",Ss="_fadeOut_ezio4_1",xs="_container_ezio4_11",_s="_content_ezio4_23",he={enter:ms,dialog:gs,overlay:vs,fadeIn:ws,exit:bs,fadeOut:Ss,container:xs,content:_s},Qt=({isOpen:e,children:t,size:n="md",closeClickOnOutSide:r=!0,toggle:s})=>{let i=()=>{e&&s()};return c(st,{children:c(lt,{in:e,timeout:300,unmountOnExit:!0,classNames:{enterActive:he.enter,exitActive:he.exit},children:P("div",{children:[c("div",{className:he.container,...r&&{onClick:i},children:c("div",{className:he.dialog,children:c("div",{"data-size":n,className:he.content,onClick:o=>o.stopPropagation(),children:t})})}),c("div",{className:he.overlay})]})})})},Cs="_container_1flam_1",ys="_title_1flam_1",Ts="_form_1flam_8",Es="_field_1flam_17",Ls="_error_msg_1flam_35",Ms="_submit_btn_1flam_47",me={container:Cs,title:ys,form:Ts,field:Es,error_msg:Ls,submit_btn:Ms},ks=({isOpen:e,title:t,toggle:n,onSubmit:r})=>{let{register:s,handleSubmit:i,reset:o,setValue:a,formState:{errors:l}}=Mt();return b.useEffect(()=>{e||(a("title",""),o())},[e]),c(Qt,{isOpen:e,toggle:n,size:"sm",closeClickOnOutSide:!1,children:P("div",{className:me.container,children:[c("div",{className:me.title,children:c("span",{children:"Rename Jam"})}),P("div",{className:me.form,children:[c("label",{htmlFor:"title",children:"Enter a new name :"}),P("div",{className:me.field,children:[c("input",{id:"title",placeholder:"Enter title",defaultValue:t,...s("title",{required:{value:!0,message:"Please enter title"}})}),l.title&&P("div",{className:me.error_msg,children:[c("i",{className:"bx-error-circle"}),c("span",{children:l.title.message})]})]})]}),P("div",{className:me.submit_btn,children:[c("button",{onClick:i(({title:d})=>r(d)),children:"Ok"}),c("button",{onClick:n,children:"Cancel"})]})]})})},$s="_container_1flam_1",Is="_title_1flam_1",Ps="_form_1flam_8",zs="_field_1flam_17",Ns="_error_msg_1flam_35",Os="_submit_btn_1flam_47",ge={container:$s,title:Is,form:Ps,field:zs,error_msg:Ns,submit_btn:Os},As=({isOpen:e,text:t,toggle:n,onSubmit:r})=>{let{register:s,handleSubmit:i,reset:o,setValue:a,formState:{errors:l}}=Mt();return b.useEffect(()=>{e||(a("text",""),o())},[e]),c(Qt,{isOpen:e,toggle:n,size:"sm",closeClickOnOutSide:!1,children:P("div",{className:ge.container,children:[c("div",{className:ge.title,children:c("span",{children:"Rename Jam"})}),P("div",{className:ge.form,children:[c("label",{htmlFor:"title",children:"Enter a new name :"}),P("div",{className:ge.field,children:[c("input",{id:"title",placeholder:"Enter text",defaultValue:t,...s("text",{required:{value:!0,message:"Please enter text"}})}),l.text&&P("div",{className:ge.error_msg,children:[c("i",{className:"bx-error-circle"}),c("span",{children:l.text.message})]})]})]}),P("div",{className:ge.submit_btn,children:[c("button",{onClick:i(({text:d})=>r(d)),children:"Ok"}),c("button",{onClick:n,children:"Cancel"})]})]})})},Ds=(e,t,n)=>le({url:Ne.create(e),method:"post",params:t,data:n}),Bs=(e,t)=>le({url:Ne.delete(e),method:"delete",params:t}),Rs=(e,t)=>le({url:Ne.clear(e),method:"put",params:t}),Gs=(e,t,n)=>le({url:Ne.update(e),method:"put",params:t,data:n}),Vs=(e,t,n)=>le({method:"post",url:it.create(e),params:t,data:n}),Ke=(e,t)=>le({url:it.update(e),method:"put",data:t}),Fs=(e,t)=>le({url:it.delete(e),method:"delete",params:t}),Hs=(e,t)=>le({url:un.update(e),method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}),Ws="_container_23eke_1",Ys="_slide_23eke_8",js="_board_23eke_13",Je={container:Ws,slide:Ys,board:js};let de={width:3840,height:2160},xe={width:de.width/2,height:de.height/2},Xs={borderColor:"#262626",backgroundColor:"#FFFFFF"};const Js=()=>{let{user:e,logout:t}=pn(),[n,r]=b.useState(2),[s,i]=b.useState(1),[o,a]=b.useState(0),[l,d]=b.useState(0),[h,f]=b.useState(!1),[v,p]=b.useState({}),{slides:u,title:g}=v,w=b.useRef(null),m=b.useRef(null),[S,T]=b.useState(0),[y,k]=b.useState(null),[M,A]=b.useState(null),[E,D]=b.useState(!1),[O,x]=b.useState({x:1,y:1}),[_,$]=b.useState(Xs),B=b.useRef({pageX:0,pageY:0}),{documentId:I}=fn();vn(g),b.useLayoutEffect(()=>{H()},[]);let N=b.useMemo(()=>{if(!u||u.length===0)return;let C=u.find((L,z)=>z===S);if(C)return C._id},[S,u]);b.useEffect(()=>{if(!N)return;m.current=document.querySelector(`[data-slide='${N}']`),document.querySelector(`[data-mini-slide='${N}']`).scrollIntoView({behavior:"smooth",inline:"center"}),m.current.scrollIntoView({behavior:"smooth",inline:"center"})},[N]),b.useEffect(()=>(window.addEventListener("resize",H),()=>{window.removeEventListener("resize",H)}),[]),b.useEffect(()=>{j()},[I]),b.useEffect(()=>{if(!y)return;let L=u[S].shapes.find(({_id:z})=>z===y);L&&$({borderColor:L.props.borderColor,backgroundColor:L.props.backgroundColor})},[y,u,S]);let j=async()=>{if(I)try{let{data:{data:C}}=await mn(I);p(C)}catch(C){Q.error(C==null?void 0:C.message)}},H=()=>{if(!w.current)return;let{clientHeight:C}=w.current,L=C-30,z=L/9*16;x({...O,x:z/de.width,y:L/de.height})},G=async()=>{if(!I||!N)return;let C=S;try{await Rs(I,{slideId:N});let L=u[C].canvas._id,z=document.querySelector(`[data-canvas='${L}']`);if(z){let Y=z.getContext("2d");Y&&Y.clearRect(0,0,xe.width,xe.height)}let R=document.querySelector(`[mini-canvas='${L}']`);if(R){let Y=R.getContext("2d");Y&&Y.clearRect(0,0,xe.width,xe.height)}let W={...v},X=W.slides[S];X.shapes=[],X.canvas.image=null,p(W)}catch(L){Q.error(L==null?void 0:L.message)}},V=async(C,L)=>{try{let z=S,R=new FormData;R.append("file",L),await Hs(C,R);let W=new FileReader;W.readAsDataURL(L),W.onloadend=()=>{let X=W.result;if(typeof X!="string")return;let Y={...v};Y.slides[z].canvas.image=X.replace("data:image/png;base64,",""),p(Y)}}catch(z){Q.error(z==null?void 0:z.message)}},Z=C=>{k(C)},ae=()=>{h||k(null)},oe=async()=>{if(!(!I||!N||!y||!u||u.length===0))try{let C=u[S].shapes.findIndex(({_id:z})=>z===y);if(C===-1)return;await Fs(I,{slideId:N,shapeId:y});let L={...v};L.slides[S].shapes.splice(C,1),p(L),k(null)}catch(C){Q.error(C==null?void 0:C.message)}},De=b.useMemo(()=>{let C="";return n===0?C=`/cursor/color-${l}.png`:n===1?C="/cursor/color-3.png":n===6&&(C="/cursor/color-5.png"),C?`url(${ce(C)}), auto`:n===4||n===3?"crosshair":"default"},[n,l]),Be=b.useMemo(()=>{if(!(!u||u.length===0))return u[S].props.backgroundImage},[S,u]),we=b.useMemo(()=>!u||u.length===0?void 0:u[S].shapes.find(({_id:L})=>L===y),[y]),Re=({pageX:C,pageY:L})=>{if(!m.current||!N)return;let{width:z,height:R,left:W,top:X}=m.current.getBoundingClientRect(),{clientWidth:Y,clientHeight:pe}=m.current,be=Y/z,Se=pe/R,Fe=n===3,Ee=n==5,re={slideId:N,shape:{type:Fe?"sticky-note":Ee?"text-box":Pe[s].type,props:{width:1,height:1,rotate:0,translateX:(C-W)*be,translateY:(L-X)*Se,borderColor:_.borderColor,backgroundColor:_.backgroundColor}}};B.current={pageX:C,pageY:L},A(re),window.addEventListener("mousemove",ot),window.addEventListener("mouseup",en,{once:!0})},ot=({pageX:C,pageY:L})=>{A(z=>{if(!z||!m.current)return z;let{width:R,height:W,left:X,top:Y}=m.current.getBoundingClientRect(),{clientWidth:pe,clientHeight:be}=m.current,Se=pe/R,Fe=be/W,Ee={...z},{shape:{props:re}}=Ee,ct=C-B.current.pageX,ut=L-B.current.pageY;return re.width=Math.abs(ct)*Se,re.height=Math.abs(ut)*Fe,ct<0&&(re.translateX=Se*(B.current.pageX-X)-re.width),ut<0&&(re.translateY=Se*(B.current.pageY-Y)-re.height),Ee})},en=()=>{window.removeEventListener("mousemove",ot),A(C=>(C&&nn(C.shape),C))},tn=async C=>{try{let L=u[S].shapes.findIndex(({_id:R})=>R===C._id);if(L===-1)return;await Ke(C._id,C);let z={...v};z.slides[S].shapes[L].props=C.props,p(z)}catch(L){Q.error(L==null?void 0:L.message)}},nn=async C=>{if(!I||!N)return;let L={type:C.type,props:C.props};try{let{data:{data:z}}=await Vs(I,{slideId:N},L),R={...v};R.slides[S].shapes.push(z),r(2),A(null),k(z._id),p(R)}catch(z){Q.error(z==null?void 0:z.message)}},rn=async C=>{if(I)try{let{data:{data:L}}=await Ds(I,{position:C});p(L),T(C)}catch(L){Q.error(L==null?void 0:L.message)}},sn=async C=>{if(I)try{let L=u.findIndex(({_id:R})=>R===C);if(L===-1)return;await Bs(I,{slideId:C});let z={...v};z.slides.splice(L,1),p(z),C===N&&T(0)}catch(L){Q.error(L==null?void 0:L.message)}},ln=async C=>{if(I)try{await gn(I,{title:C}),Ge(),p({...v,title:C})}catch(L){Q.error(L==null?void 0:L.message)}},Ge=()=>{D(!E)},an=async C=>{if(!I||!N)return;let L=S;try{await Gs(I,{slideId:N},{backgroundImage:C});let z={...v};z.slides[L].props={backgroundImage:C},p(z)}catch(z){Q.error(z==null?void 0:z.message)}},dt=async(C,L)=>{if(!y)return;let z=S;try{let R=u[S].shapes,W=R.findIndex(({_id:be})=>be===y);if(W===-1)return;let X=R[W];if(X.props[C]===L)return;let Y={...X};Y.props[C]=L,await Ke(y,Y);let pe={...v};pe.slides[z].shapes[W]=Y,p(pe),$({..._,[C]:L})}catch(R){Q.error(R==null?void 0:R.message)}},on=async C=>{if(!y)return;let L=S;try{let z=u[S].shapes.findIndex(({_id:X})=>X===y);if(z===-1)return;let R=u[S].shapes[z];R.props.text=C,await Ke(y,{props:R.props});let W={...v};W.slides[L].shapes[z].props.text=C,Ve(),p(W)}catch(z){Q.error(z==null?void 0:z.message)}},Ve=()=>{f(!h)};return P(b.Fragment,{children:[c(Sn,{user:e,title:g,logout:t,toggleTitle:Ge,children:c(hs,{slides:u,activeSlide:S,activeSlideId:N,dimension:de,onSlideChange:T,onAddSlide:rn,onDeleteSlide:sn})}),c(ir,{tool:n,shape:s,sketch:o,sketchColor:l,slideBackGround:Be,borderColor:_.borderColor,backgroundColor:_.backgroundColor,selectedShapeId:y,onSelectTool:r,onSelectShape:i,onSelectSketch:a,onClearSlide:G,onSelectSketchColor:d,onSelectBackGround:an,onSelectBorderColor:dt,onSelectBackGroundColor:dt}),c("div",{ref:w,className:Je.container,children:u&&u.length>0&&u.map(C=>c("div",{className:Je.slide,children:P("div",{"data-slide":C._id,className:Je.board,style:{cursor:De,width:de.width,height:de.height,transform:`scale(${O.x},${O.y}) translate(-50%, -50%)`,backgroundImage:`url(${ce(`/background/${C.props.backgroundImage}`)}.png)`},...[3,4,5].includes(n)&&{onMouseDown:Re},children:[c(ar,{tool:n,sketch:o,sketchColor:l,canvas:C.canvas,dimension:xe,onUpdateCanvas:V,isActiveSlide:C._id===N}),C.shapes&&C.shapes.map(L=>c(Tr,{shape:L,selectedShapeId:y,onClick:Z,onBlur:ae,onUpdateShape:tn,onDeleteShape:oe,...L.type==="sticky-note"&&{onEditStickyNote:Ve}},L._id)),M&&M.slideId===C._id&&c(Dt,{shape:M.shape})]})},C._id))}),c(ks,{title:g,isOpen:E,toggle:Ge,onSubmit:ln}),c(As,{isOpen:h,text:we==null?void 0:we.props.text,toggle:Ve,onSubmit:on})]})};export{Js as default};
